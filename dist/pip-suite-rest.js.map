{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","src/auth_state/AuthHttpResponseInterceptor.ts","src/auth_state/AuthStateDecorator.ts","src/auth_state/AuthStateInit.ts","src/auth_state/AuthStateService.ts","src/auth_state/IAuthStateService.ts","src/auth_state/index.ts","src/cache/DataCacheService.ts","src/cache/IDataCacheService.ts","src/cache/index.ts","src/data/DataModelService.ts","src/data/index.ts","src/index.ts","src/rest/RestService.ts","src/rest/index.ts"],"names":[],"mappings":"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","file":"pip-suite-rest.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","import { IAuthState } from './IAuthStateService';\nexport const UnauthorizedRedirect: string = 'pipUnauthorizedRedirect';\nexport const AccessDenyRedirect: string = 'pipAccessDenyRedirect';\n\nclass AuthHttpResponseInterceptor implements ng.IHttpInterceptor {\n    constructor(\n        private $q: ng.IQService, \n        private $rootScope: ng.IRootScopeService,\n        private $location: ng.ILocationService,\n        private $log: ng.ILogService\n    ) {\n        \"ngInject\";\n    }\n\n    public responseError = (rejection: any): ng.IPromise<any> => {\n        let toState: IAuthState = this.$rootScope[pip.services.StateVar] && this.$rootScope[pip.services.StateVar].name ? this.$rootScope[pip.services.StateVar].name : null;\n        let toParams: any = this.$rootScope[pip.services.StateVar] && this.$rootScope[pip.services.StateVar].params ? this.$rootScope[pip.services.StateVar].params : null;\n        // When server sends Non-authenticated response\n        switch (rejection.status) {\n            case 401:\n            case 440:\n                this.$log.error(\"Response Error 401\", rejection);\n                // Redirect to unauthorized state\n                this.$rootScope.$emit(UnauthorizedRedirect, { // todo var event end event params\n                    redirect_to: toState && toParams && toParams.redirect_to ? '' : this.$location.url(),\n                    toState: toState,\n                    toParams: toParams\n                });\n\n                break;\n            case 403:\n                this.$log.error(\"Response Error 403\", rejection);\n                // Redirect to unauthorized state\n                this.$rootScope.$emit(AccessDenyRedirect);\n\n                break;                \n            default:\n                this.$log.error(\"errors_unknown\", rejection);\n                break;\n        }\n\n        return this.$q.reject(rejection);\n    }\n}\n\nfunction configureAuthState($httpProvider: ng.IHttpProvider) {\n    $httpProvider.interceptors.push('pipAuthHttpResponseInterceptor');\n}\n\nangular\n    .module('pipAuthState')\n    .config(configureAuthState)\n    .service('pipAuthHttpResponseInterceptor', AuthHttpResponseInterceptor);\n\n\n\n","import { AuthStateConfig } from './IAuthStateService';\n\n// Decorator function to add redirect method to pipAuthState service\nfunction decorateStatesAuthStateService($delegate, $timeout) {\n    \"ngInject\";\n\n    $delegate.config = new AuthStateConfig();\n    $delegate.signinState = signinState;\n    $delegate.signoutState = signoutState;\n    $delegate.authorizedState = authorizedState;\n    $delegate.unauthorizedState = unauthorizedState;\n\n    $delegate.goToSignin = goToSignin;\n    $delegate.goToSignout = goToSignout;\n    $delegate.goToAuthorized = goToAuthorized;\n    $delegate.goToUnauthorized = goToUnauthorized;\n\n    return $delegate;\n    ////////////////////////////////\n\n    function signinState(value?: string): string {\n        if (value) {\n            this._config.signinState = value;\n        } return this._config.signinState;\n    }\n    function signoutState(value?: string): string {\n        if (value) {\n            this._config.signoutState = value;\n        } return this._config.signoutState;\n    }\n    function authorizedState(value?: string): string {\n        if (value) {\n            this._config.authorizedState = value;\n        } return this._config.authorizedState;\n    }\n    function unauthorizedState(value?: string): string {\n        if (value) {\n            this._config.unauthorizedState = value;\n        } return this._config.unauthorizedState;\n    }\n\n    function setSigninParams(params: any): any {\n        if (!params) return params;\n\n        if (!params.toParams) return params;\n\n        params.server_url = params.toParams.server_url ? params.toParams.server_url : null;\n        params.email = params.toParams.email ? params.toParams.email : null;\n        params.language = params.toParams.language ? params.toParams.language : 'en';\n\n        return params;\n    }\n\n    function goToSignin(params: any): void {\n        if (this._config.signinState == null) {\n            throw new Error('Signin state was not defined');\n        }\n\n        params = setSigninParams(params);\n        this.go(this._config.signinState, params);\n    }\n    function goToSignout(params: any): void {\n        if (this._config.signoutState == null) {\n            throw new Error('Signout state was not defined');\n        }\n\n        this.go(this._config.signoutState, params);\n    }\n    function goToAuthorized(params: any): void {\n        if (this._config.authorizedState == null) {\n            throw new Error('Authorized state was not defined');\n        }\n\n        this.go(this._config.authorizedState, params);\n    }\n    function goToUnauthorized(params: any): void {\n        if (this._config.unauthorizedState == null) {\n            throw new Error('Signin state was not defined');\n        }\n\n        this.go(this._config.unauthorizedState, params);\n    }\n}\n\n// Config function to decorate pipAuthState service\nfunction addStatesAuthtateDecorator($provide) {\n    \"ngInject\";\n\n    $provide.decorator('pipAuthState', decorateStatesAuthStateService);\n}\n\nangular\n    .module('pipAuthState')\n    .config(addStatesAuthtateDecorator);\n\n","import { IAuthStateService, IAuthState } from './IAuthStateService';\n\nfunction initAuthState(\n    $log: ng.ILogService,\n    $rootScope: ng.IRootScopeService,\n    $state: ng.ui.IStateService,\n    pipSession: pip.services.ISessionService,\n    pipAuthState: IAuthStateService\n\n) {\n\n    // Intercept routes\n    $rootScope.$on('$stateChangeStart', stateChangeStart);\n    // Process unauthorized access error\n    $rootScope.$on('pipUnauthorizedRedirect', unauthorizedRedirect);\n    // Process after state changed\n    $rootScope.$on('$stateChangeSuccess', stateChange);\n\n    function stateChange(event: ng.IAngularEvent, toState: angular.ui.IState,\n        toParams: any, fromState: angular.ui.IState, fromParams: any): void {\n        // Unset routing variable to disable page transition\n        $rootScope[pip.services.RoutingVar] = false;\n    }\n\n    function stateChangeStart(event: ng.IAngularEvent, toState: IAuthState, toParams: any,\n        fromState: IAuthState, fromParams: any): void {\n\n        // Implement redirect mechanism\n        if (pipAuthState.redirect && pipAuthState.redirect(event, toState, toParams, $rootScope)) {\n            return;\n        }\n\n        // If user is not authorized then switch to signin\n        if ((toState.auth || toState.auth === undefined) && !pipSession.isOpened()) {\n            event.preventDefault();\n\n            let redirectTo: string = pipAuthState.href(toState.name, toParams);\n\n            // Remove hashtag\n            if (redirectTo.length > 0 && redirectTo[0] == '#') {\n                redirectTo = redirectTo.substring(1);\n            }\n\n        //    <IAuthStateService>\n           pipAuthState.goToSignin({ redirect_to: redirectTo, toState: toState, toParams: toParams });\n\n            return;\n        }\n\n        // Move user to authorized page\n        if (toState.name == pipAuthState.unauthorizedState() && pipSession.isOpened()) {\n            event.preventDefault();\n            pipAuthState.goToAuthorized({});\n\n            return;\n        }\n    }\n\n    function unauthorizedRedirect(event: ng.IAngularEvent, params: any): void {\n        // pipAuthState.goToSignin(params);\n        pipAuthState.goToSignout(params);\n    }\n\n}\n\nfunction configureAuthState(pipTranslateProvider: pip.services.ITranslateProvider) {\n    // Switch to HTML5 routing mode\n    pipTranslateProvider.translations('en', {\n        'ERROR_SWITCHING': 'Error while switching route. Try again.'\n    });\n\n    pipTranslateProvider.translations('ru', {\n        'ERROR_SWITCHING': 'Ошибка при переходе. Попробуйте ещё раз.'\n    });\n}\n\nangular\n    .module('pipAuthState')\n    .config(configureAuthState)\n    .run(initAuthState);\n\n","import { IAuthStateService, IAuthStateProvider, AuthStateConfig, IAuthState } from './IAuthStateService';\n\nclass AuthStateProvider implements IAuthStateProvider {\n    private _service: IAuthStateService;\n    private _config: AuthStateConfig;\n    private _redirectedStates: any = {};\n\n    public state: Function;\n\n    constructor(\n        private $stateProvider: ng.ui.IStateProvider\n    ) {\n        \"ngInject\";\n\n        this._config = new AuthStateConfig();\n\n\n        this.state = (stateName: string, stateConfig: IAuthState) => {\n            if (stateName == null) {\n                throw new Error('stateName cannot be null');\n            }\n            if (stateConfig == null) {\n                throw new Error('stateConfig cannot be null');\n            }\n\n            // add resolver\n            if (stateConfig && (stateConfig.auth || stateConfig.authenticate)) {\n                stateConfig.resolve = stateConfig.resolve || {};\n            }\n\n            this.$stateProvider.state(stateName, stateConfig);\n\n            return this;\n        }\n    }\n\n    public redirect(fromState: string, toState: string) {\n        this._redirectedStates[fromState] = toState;\n    }\n\n    public get signinState(): string {\n        return this._config.signinState;\n    }\n\n    public set signinState(value: string) {\n        this._config.signinState = value || null;\n    }\n\n    public get signoutState(): string {\n        return this._config.signoutState;\n    }\n\n    public set signoutState(value: string) {\n        this._config.signoutState = value || null;\n    }\n    public get authorizedState(): string {\n        return this._config.authorizedState;\n    }\n\n    public set authorizedState(value: string) {\n        this._config.authorizedState = value || '/';\n    }\n    public get unauthorizedState(): string {\n        return this._config.unauthorizedState;\n    }\n\n    public set unauthorizedState(value: string) {\n        this._config.unauthorizedState = value || '/';\n    }\n\n    public $get($state: ng.ui.IStateService, $timeout: ng.ITimeoutService) {\n        \"ngInject\";\n\n        if (this._service == null) {\n            $state['_config'] = this._config;\n            $state['_redirectedStates'] = this._redirectedStates;\n            $state['redirect'] = redirect;\n        }\n\n        this._service = <IAuthStateService>$state;\n\n        return this._service;\n\n        function redirect(event, state, params) {\n            let toState = this._redirectedStates[state.name];\n            if (_.isFunction(toState)) {\n                toState = toState(state.name, params);\n\n                if (_.isNull(toState))\n                    throw new Error('Redirected toState cannot be null');\n            }\n            if (!!toState) {\n                $timeout(() => {\n                    event.preventDefault();\n                    this.transitionTo(toState, params, { location: 'replace' });\n                });\n\n                return true;\n            }\n\n            return false;\n        }\n    }\n}\n\nangular\n    .module('pipAuthState')\n    .provider('pipAuthState', AuthStateProvider);","export interface IAuthState extends angular.ui.IState {\n    auth?: boolean;\n    authenticate?: any;\n}\n\nexport class AuthStateConfig {\n    signinState: string = null;\n    signoutState: string = null;\n    authorizedState: string = '/';\n    unauthorizedState: string = '/';\n}\n\nexport interface IAuthStateService extends ng.ui.IStateService  {\n    signinState(value?: string): string;\n    signoutState(value?: string): string;\n    authorizedState(value?: string): string;\n    unauthorizedState(value?: string): string;\n\n    redirect(event: ng.IAngularEvent, toState: IAuthState, toParams: any, $rootScope: ng.IRootScopeService): any;\n    state(stateName: string, stateConfig: IAuthState): any;\n\n    goToSignin(params: any): void;\n    goToSignout(params: any): void;\n    goToAuthorized(params: any): void;\n    goToUnauthorized(params: any): void;\n}\n\nexport interface IAuthStateProvider extends ng.IServiceProvider {\n    redirect(fromState: string, toState: string);\n    signinState: string;\n    signoutState: string;\n    authorizedState: string;\n    unauthorizedState: string;\n}\n\n","angular\n    .module('pipAuthState', [\n        'ngResource',\n        'pipServices', \n        'LocalStorageModule'\n    ]);\n\n\nimport './AuthHttpResponseInterceptor';\nimport './AuthStateDecorator';\nimport './AuthStateInit';\nimport './IAuthStateService';\nimport './AuthStateService';\n\n\n\nexport * from './AuthHttpResponseInterceptor'\nexport * from './IAuthStateService'\n","import { CacheParams, IDataCacheService, IDataCacheProvider } from './IDataCacheService';\nimport { IDataModelService } from '../data/IDataModelService';\n\nclass DataCache implements IDataCacheService {\n    private CACHE_TIMEOUT = 10 * 60000; // 10 mins or make it configurable\n    private _cache: any;\n    private _timeout: number;\n\n    public constructor(\n        private $q: ng.IQService, \n        private pipDataModel: IDataModelService\n    ) {\n        \"ngInject\";\n\n        this._cache = {};\n    }\n\n    // Converts a string value into a numeric hash code\n    private hash(data: CacheParams): number {\n        let filteredData: CacheParams = <CacheParams>{};\n\n        // Filter only the generic parameters that can be relevant to the query\n        if (data != null) {\n            // filteredData.item = data.item;\n            // filteredData.id = data.id;\n            filteredData.filter = data.filter;\n            filteredData.search = data.search;\n            filteredData.start = data.start;\n            filteredData.take = data.take;\n            filteredData.skip = data.skip;\n            // filteredData.status = data.status;\n        }\n\n        let serializedFilter = angular.toJson(filteredData);\n\n        if (serializedFilter == null || serializedFilter.length === 0)\n            return 0;\n\n        let h: number = 0;\n        for (let i = 0, len = serializedFilter.length; i < len; i++) {\n            let chr = serializedFilter.charCodeAt(i);\n            h = ((h << 5) - h) + chr;\n            h |= 0; // Convert to 32bit integer\n        }\n\n        return h;\n    }\n\n    // Generates parameterized key\n    private generateKey(resource: string, params?: CacheParams): string {\n        let h: number = this.hash(params);\n        return resource + (h != 0 ? '_' + h : '');\n    };\n\n    // Clear the cache, globally or selectively\n    public clear(resource?: string): void {\n        if (resource == null) {\n            this._cache = {};\n        } else {\n            for (let key in this._cache) {\n                if (key == resource || key.startsWith(resource + '_')) {\n                    delete this._cache[key];\n                }\n            }\n        }\n    }\n\n    // Try to retrieve collection from the cache\n    public retrieve(resource: string, params?: CacheParams): any {\n        if (resource == null) throw new Error('Resource cannot be null');\n        if (resource == '') throw new Error('Resource cannot be empty');\n\n        let key: string = this.generateKey(resource, params);\n        let holder: any = this._cache[key];\n        if (holder == null) return null;\n\n        // If expired then cleanup and return null\n        if (holder.expire && _.now() - holder.expire > this.CACHE_TIMEOUT) {\n            delete this._cache[key];\n            return null;\n        }\n\n        return holder.data;\n    }\n\n    // Store collection into the cache\n    public store(resource: string, data: any, params?: CacheParams): void {\n        if (resource == null) throw new Error('Resource cannot be null');\n        if (resource == '') throw new Error('Resource cannot be empty');\n\n        this._cache[this.generateKey(resource, params)] = {\n            expire: _.now(),\n            data: data\n        };\n    }\n\n    // Store collection into the cache without expiration\n    public storePermanently(resource: string, data: any, params?: CacheParams): void {\n        if (resource == null) throw new Error('Resource cannot be null');\n        if (resource == '') throw new Error('Resource cannot be empty');\n\n        this._cache[this.generateKey(resource, params)] = {\n            expire: null,\n            data: data\n        };\n    }\n\n    // Remove collection from the cache\n    public remove(resource: string, params?: CacheParams): void {\n        if (resource == null) throw new Error('Resource cannot be null');\n        if (resource == '') throw new Error('Resource cannot be empty');\n\n        delete this._cache[this.generateKey(resource, params)];\n    };\n\n    public updateOne(resource: string, item: any, params?: CacheParams): void {\n        if (resource == null) throw new Error('Resource cannot be null');\n        if (item == null) return;\n\n        let data: any = this.retrieve(resource, params);\n\n        if (data != null) {\n            let isAdded = false;\n            let size = data.length;\n            for (let i = 0; i < size; i++) {\n                if (data[i].id == item.id) {\n                    data[i] = item;\n                    isAdded = true;\n\n                    return;\n                }\n            }\n            if (!isAdded) data.push(item);\n            this.store(resource, data, params);\n        }\n    }\n\n    // Tries to retrieve collection from the cache, otherwise load it from server\n    public retrieveOrLoad(params: CacheParams, successCallback?: (data: any) => void, errorCallback?: (err: any) => void): any {\n        if (params == null) throw new Error('params cannot be null');\n\n        let resource: string = params.resource; //(params.cache || params.resource);\n\n        // Retrieve data from cache\n        let filter: Function = params.filter;\n        let force: boolean = !!params.force;\n        let result: any = !force ? this.retrieve(resource, params) : null;\n        let deferred: any = this.$q.defer();\n        let method: string;\n        if (!!params.paging) {\n            method = 'page';\n        } else {\n            method = params.singleResult ? 'readOne' : 'read';\n        }\n        // Return result if it exists\n        if (result) {\n            if (filter) {\n                if (result.data) {\n                    result.data = filter(result.data);\n                } else {\n                    result = filter(result);\n                }\n            }\n            if (_.isFunction(successCallback)) { successCallback(result); }\n            deferred.resolve(result);\n\n            return deferred.promise;\n        }\n\n        this.pipDataModel[method](\n            params,\n            (data: any) => {\n                // Store data in cache and return\n                params.updatedItem ?\n                    this.updateOne(resource, data, params) :\n                    this.store(resource, data, params);\n                if (filter) data = filter(data);\n                deferred.resolve(data);\n\n                if (_.isFunction(successCallback)) { successCallback(data); }\n            },\n            (err: any) => {\n                // Return error\n                deferred.reject(err);\n                if (_.isFunction(errorCallback)) errorCallback(err);\n            }\n        );\n\n        // Return deferred object\n        return deferred.promise;\n    }\n\n    public removeOne(resource: string, item: any): void {\n        if (resource == null) throw new Error('Resource cannot be null');\n        if (item == null) return;\n\n        for (let key in this._cache) {\n            if (key == resource || key.startsWith(resource + '_')) {\n                let data: any = this._cache[key].data;\n                if (angular.isArray(data)) {\n                    for (let i = 0; i < data.length; i++) {\n                        if (data[i].id == item.id) {\n                            data.splice(i, 1);\n                            i--;\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    // OBSOLETE - WILL BE REMOVED ONCE CODE IS REFACTORED\n    public decorateAddCallback(resource: string, params?: CacheParams, successCallback?: (data: any) => void): Function {\n        return (item: any) => {\n            if (!params || !params.notClearedCache) { this.clear(resource); }\n            if (_.isFunction(successCallback)) { successCallback(item); }\n        };\n    }\n\n    public decorateRemoveCallback(resource: string, params?: CacheParams, successCallback?: (data: any) => void): Function {\n        return (item: any) => {\n            this.removeOne(resource, params);\n            if (_.isFunction(successCallback)) { successCallback(item); }\n        };\n    }\n\n    public decorateUpdateCallback(resource: string, params?: CacheParams, successCallback?: (data: any) => void): Function {\n        return (item: any) => {\n            for (var key in this._cache) {\n                if (key == resource || key.startsWith(resource + '_')) {\n                    let data: any = this._cache[key].data;\n                    if (angular.isArray(data)) {\n                        for (var i = 0; i < data.length; i++) {\n                            if (data[i].id == item.id) {\n                                data[i] = item;\n                            }\n                        }\n                    }\n                }\n            }\n\n            if (_.isFunction(successCallback)) { successCallback(item); }\n        };\n    }\n\n    public setTimeout(newTimeout: number): number {\n        if (newTimeout) {\n            this.CACHE_TIMEOUT = newTimeout;\n        }\n        return this.CACHE_TIMEOUT;\n    }\n \n}\n\nclass DataCacheProvider implements IDataCacheProvider {\n    private _service: DataCache;\n\n    constructor() {\n    }\n\n    public $get($q: ng.IQService, pipDataModel: IDataModelService) {\n        \"ngInject\";\n\n        if (this._service == null) {\n            this._service = new DataCache($q, pipDataModel);\n        }\n        return this._service;\n    }\n}\n\nangular\n    .module('pipDataCache', [])\n    .provider('pipDataCache', DataCacheProvider);\n\n\n","export class CacheParams {\n    force?: boolean;\n    resource?: string;\n    // cache?: string; cache || resource\n    filter?: Function;\n    singleResult?: boolean;\n    // party_id: string;\n    // item?: any;\n    // id?: string;\n    search?: string;\n    start?: any;\n    take?: number;\n    skip?: number;\n    // status?: string;\n    notClearedCache?: boolean;\n    paging?: boolean;\n    updatedItem?: any;\n}\n\nexport interface IDataCacheService {\n    setTimeout(newTimeout: number): number;\n\n    store(resource: string, data: any, params?: CacheParams): void;\n    storePermanently(resource: string, data: any, params?: CacheParams): void;\n    retrieve(resource: string, params?: CacheParams): any;\n    retrieveOrLoad(params: CacheParams, successCallback?: (data: any) => void, errorCallback?: (err: any) => void): any;\n    updateOne(resource: string, item: any, params?: CacheParams): void;\n    remove(resource: string, params?: CacheParams): void;\n    removeOne(resource: string, item: any): void;\n    clear(resource?: string): void;\n\n    decorateAddCallback(resource: string, params?: CacheParams, successCallback?: (data: any) => void): Function;\n    decorateUpdateCallback(resource: string, params?: CacheParams, successCallback?: (data: any) => void): Function;\n    decorateRemoveCallback(resource: string, params?: CacheParams, successCallback?: (data: any) => void): Function;\n}\n\nexport interface IDataCacheProvider extends ng.IServiceProvider {}","angular\n    .module('pipDataCache', ['pipDataModel']);\n\nimport './DataCacheService';\nimport './IDataCacheService';\n\nexport * from './IDataCacheService';","import { IDataModelService, IDataModelProvider } from './IDataModelService';\nimport { IRestService } from '../rest/IRestService'\n\ndeclare var async: any;\n\n// Todo: Shall it be just an abstract class?\n// Todo: Use generics to make it type-safe\nclass DataModel implements IDataModelService {\n    public save;\n    public remove;\n    public query;\n    public get;\n    public readPage;\n    public queryPage;\n\n    constructor(\n        private $stateParams: angular.ui.IStateParamsService,\n        private pipRest: IRestService\n    ) {\n        \"ngInject\";\n        \n        this.save = this.update;\n        this.remove = this.delete;\n        this.query = this.read;\n        this.get = this.readOne;\n        this.readPage = this.page;\n        this.queryPage = this.page;\n    }\n\n    // Execute request to REST API\n    public execute(params: any, successCallback?: (result: any) => void,\n        errorCallback?: (error: any) => void): ng.IPromise<{}> {\n\n        let t = params.transaction, tid;\n\n        if (t && !params.skipTransactionBegin) {\n            tid = params.transactionId = t.begin(\n                params.transactionOperation || 'PROCESSING'\n            );\n            if (!tid) return;\n        }\n\n        // return this.pipRest.resources[params.resource]()[params.operation](\n        return this.pipRest.getResource(params.resource)[params.operation](\n            params.item,\n            (result: any) => {\n                if (t && tid && t.aborted(tid)) return;\n                if (t && !params.skipTransactionEnd) t.end();\n                if (successCallback) successCallback(result);\n            },\n            (error: any) => {\n                if (t) t.end(error);\n                if (errorCallback) errorCallback(error);\n            }\n        );\n    }\n\n    // Create an object and add it to object collection\n    public create(params: any, successCallback?: (result: any) => void,\n        errorCallback?: (error: any) => void): ng.IPromise<{}> {\n\n        params.transactionOperation = params.transactionOperation || 'SAVING';\n        params.operation = params.operation || 'save';\n\n        return this.execute(\n            params,\n            (result: any) => {\n                if (params.itemCollection)\n                    params.itemCollection.push(result);\n\n                if (successCallback) successCallback(result);\n            },\n            (error: any) => {\n                if (errorCallback) errorCallback(error);\n            }\n        );\n    }\n\n    // Update an object and replace it in object collection\n    public update(params: any, successCallback?: (result: any) => void,\n        errorCallback?: (error: any) => void): ng.IPromise<{}> {\n\n        params.transactionOperation = params.transactionOperation || 'SAVING';\n        params.operation = params.operation || 'update';\n\n        return this.execute(\n            params,\n            (result: any) => {\n                if (params.itemCollection)\n                    var index = _.findIndex(params.itemCollection, function (item: any) {\n                        return item.id == result.id;\n                    });\n                if (index > -1) {\n                    params.itemCollection[index] = result;\n                }\n\n                if (successCallback) successCallback(result);\n            },\n            (error: any) => {\n                if (errorCallback) errorCallback(error);\n            }\n        );\n    }\n\n    // Update an object and remove it from object collection\n    public delete(params: any, successCallback?: (result: any) => void,\n        errorCallback?: (error: any) => void): ng.IPromise<{}> {\n\n        params.transactionOperation = params.transactionOperation || 'SAVING';\n        params.operation = params.operation || 'remove';\n\n        return this.execute(\n            params,\n            (result: any) => {\n                if (params.itemCollection)\n                    _.remove(params.itemCollection, { id: result.id || (params.object || {}).id || (params.item || {}).id });\n\n                if (successCallback) successCallback(result);\n            },\n            (error: any) => {\n                if (errorCallback) errorCallback(error);\n            }\n        );\n    }\n\n    // Read a collection of objects\n    public read(params: any, successCallback?: (result: any) => void,\n        errorCallback?: (error: any) => void): ng.IPromise<{}> {\n\n        params.transactionOperation = params.transactionOperation || 'READING';\n        params.operation = params.operation || 'query';\n\n        return this.execute(\n            params,\n            (result: any) => {\n                if (successCallback) successCallback(result);\n            },\n            (error: any) => {\n                if (errorCallback) errorCallback(error);\n            }\n        );\n    }\n\n    // Read a single object and add it into collection\n    public readOne(params: any, successCallback?: (result: any) => void,\n        errorCallback?: (error: any) => void): ng.IPromise<{}> {\n\n        params.transactionOperation = params.transactionOperation || 'READING';\n        params.operation = params.operation || 'page';\n\n        return this.execute(\n            params,\n            (result: any) => {\n                if (params.itemCollection && result) {\n                    var index = _.findIndex(params.itemCollection, { id: result.id });\n                    if (index >= 0) params.itemCollection[index] = result;\n                    else params.itemCollection.push(result);\n                }\n\n                if (successCallback) successCallback(result);\n            },\n            (error: any) => {\n                if (errorCallback) errorCallback(error);\n            }\n        );\n    }\n\n    // Read a page and add results into object collection\n    public page(params: any, successCallback?: (result: any) => void,\n        errorCallback?: (error: any) => void): ng.IPromise<{}> {\n\n        params.transactionOperation = params.transactionOperation || 'READING';\n        params.operation = params.operation || 'page';\n\n        return this.execute(\n            params,\n            (result: any) => {\n                if (params.itemCollection && result.data) {\n                    for (var i = 0; i < result.data.length; i++)\n                        params.itemCollection.push(result.data[i]);\n                }\n\n                if (successCallback) successCallback(result);\n            },\n            (error: any) => {\n                if (errorCallback) errorCallback(error);\n            }\n        );\n    }\n\n    // Save picture and document files\n    public uploadFiles(params: any, successCallback?: () => void,\n        errorCallback?: (error: any) => void): ng.IPromise<{}> {\n\n        var t = params.transaction, tid;\n\n        // Start transaction if necessary\n        if (t && !params.skipTransactionBegin) {\n            tid = params.transactionId = t.begin(\n                params.transactionOperation || 'SAVING'\n            );\n            if (!tid) return;\n        }\n\n        var uploadFiles = [{\n            pictures: params.pictures,\n            documents: params.documents\n        }];\n\n        // from content\n        if (params.item && params.item.content) {\n            var saveResult = true;\n            async.eachSeries(_.union(params.item.content, uploadFiles),\n                (obj, callback) => {\n                    // не выбран - пропускаем этот item  || нет этого события action\n                    if (!obj.pictures && !obj.documents) {\n                        callback();\n                    } else {\n                        if (obj.pictures) {\n                            // Save pictures first\n                            obj.pictures.save(\n                                () => {\n                                    if (t && tid && t.aborted(tid)) {\n                                        saveResult = false;\n                                        callback('aborted');\n                                    }\n                                    // Save documents second\n                                    if (obj.documents) {\n                                        obj.documents.save(\n                                            () => {\n                                                if (t && tid && t.aborted(tid)) {\n                                                    saveResult = false;\n                                                    callback('aborted');\n                                                }\n                                                callback();\n                                            },\n                                            (error: any) => {\n                                                saveResult = false;\n                                                callback(error);\n                                            }\n                                        );\n                                    } else {\n                                        callback();\n                                    }\n                                },\n                                (error: any) => {\n                                    saveResult = false;\n                                    callback(error);\n                                }\n                            );\n                        } else {\n                            if (obj.documents) {\n                                // Save documents first\n                                obj.documents.save(\n                                    () => {\n                                        if (t && tid && t.aborted(tid)) {\n                                            saveResult = false;\n                                            callback('aborted');\n                                        }\n                                        callback();\n                                    },\n                                    (error: any) => {\n                                        saveResult = false;\n                                        callback(error);\n                                    }\n                                );\n                            }\n                        }\n                    }\n                },\n                (error: any) => {\n                    if (!error && saveResult) {\n                        // удаляем ненужные объекты перед сохранением\n                        // вызываем колбек\n                        if (t && !params.skipTransactionEnd) t.end();\n                        _.each(params.item.content, function (item) {\n                            delete item.pictures;\n                            delete item.documents;\n                        });\n                        if (successCallback) successCallback();\n                    } else {\n                        // вызываем ошибочный колбек\n                        if (t) t.end(error);\n                        if (errorCallback) {\n                            errorCallback(error);\n                        }\n                    }\n                }\n            );\n        } else {\n            if (params.pictures) {\n                // Save pictures first\n                params.pictures.save(\n                    () => {\n                        if (t && tid && t.aborted(tid)) return;\n\n                        // Save documents second\n                        if (params.documents) {\n                            params.documents.save(\n                                () => {\n                                    if (t && tid && t.aborted(tid)) return;\n                                    // Do everything else\n                                    if (t && !params.skipTransactionEnd) t.end();\n                                    if (successCallback) successCallback();\n                                },\n                                (error: any) => {\n                                    if (t) t.end(error);\n                                    if (errorCallback) errorCallback(error);\n                                }\n                            );\n                        } else {\n                            // Do everything else\n                            if (t && !params.skipTransactionEnd) t.end();\n                            if (successCallback) successCallback();\n                        }\n                    },\n                    (error: any) => {\n                        if (t) t.end(error);\n                        if (errorCallback) errorCallback(error);\n                    }\n                );\n            } else if (params.documents) {\n                // Save documents first\n                params.documents.save(\n                    () => {\n                        if (t && tid && t.aborted(tid)) return;\n                        // Do everything else\n                        if (t && !params.skipTransactionEnd) t.end();\n                        if (successCallback) successCallback();\n                    },\n                    (error: any) => {\n                        if (t) t.end(error);\n                        if (errorCallback) errorCallback(error);\n                    }\n                );\n            } else {\n                // Do everything else\n                if (t && !params.skipTransactionEnd) t.end();\n                if (successCallback) successCallback();\n            }\n        }\n    }\n\n    // Abort transaction with file upload\n    public abortFilesUpload(params) {\n        if (params.pictures)\n            params.pictures.abort();\n        if (params.documents)\n            params.documents.abort();\n        if (params.transaction)\n            params.transaction.abort();\n    }\n}\n\nclass DataModelProvider implements IDataModelProvider {\n    private _service: IDataModelService;\n\n    constructor(\n    ) {\n        \"ngInject\";\n\n    }\n\n    public $get(\n        $stateParams: angular.ui.IStateParamsService,\n        pipRest: IRestService\n    ) {\n        \"ngInject\";\n        \n        if (this._service == null) {\n            this._service = new DataModel($stateParams, pipRest);\n        }\n\n        return this._service;\n    }\n}\n\nangular\n    .module('pipDataModel')\n    .provider('pipDataModel', DataModelProvider);","angular\n    .module('pipDataModel', ['pipRest']);\n\nimport './IDataModelService';\nimport './DataModelService';\n\nexport * from './IDataModelService';","\nimport './rest';\nimport './data';\nimport './cache';\nimport './auth_state';\n\nangular\n    .module('pipCommonRest', [\n        'pipDataCache',\n        'pipRest',\n        'pipDataModel',\n        'pipAuthState'\n\n    ]);\n\n\nexport * from './rest';\nexport * from './data';\nexport * from './cache';\nexport * from './auth_state';\n","\nimport {\n    IRestProvider,\n    IRestService,\n} from './IRestService';\n\nclass RestResourceConfig {\n    operation: string;\n    name: string;\n    path: string;\n    defaultParams: any;\n    actions: any\n};\n\nclass RestService implements IRestService {\n    private _resources: any = {};\n    private _serverUrl: string;\n    private _lockServerUrl: boolean;\n\n    constructor(\n        private $resource: ng.resource.IResourceService,\n        private $http: ng.IHttpService,\n        private $stateParams: ng.ui.IStateParamsService,\n        serverUrl: string,\n        lockServerUrl: boolean,\n        private resourceConfigs: RestResourceConfig[]\n    ) {\n        \"ngInject\";\n\n        this._serverUrl = serverUrl;\n        this._lockServerUrl = lockServerUrl;\n        this.initResources(resourceConfigs);\n    }\n\n    private reInitResource() {\n        this._resources = {};\n        this.initResources(this.resourceConfigs);        \n    }\n\n    private initResources(resourceConfigs: RestResourceConfig[]): void {\n        _.each(resourceConfigs, (resourceConfig) => {\n            let resource: any;\n            switch (resourceConfig.operation) {\n                case 'createResource':\n                    resource = this.createResource(this._serverUrl, resourceConfig.path, resourceConfig.defaultParams, resourceConfig.actions);\n                    break;\n                case 'createOperation':\n                    resource = this.createOperation(this._serverUrl, resourceConfig.path);\n                    break;\n                case 'createCollection':\n                    resource = this.createCollection(this._serverUrl, resourceConfig.path, resourceConfig.defaultParams);\n                    break;\n                case 'createPagedCollection':\n                    resource = this.createPagedCollection(this._serverUrl, resourceConfig.path, resourceConfig.defaultParams);\n\n                    break;\n                case 'createPartyCollection':\n                    resource = this.createPartyCollection(this._serverUrl, resourceConfig.path, resourceConfig.defaultParams);\n                    break;\n            }\n\n            if (resource) {\n                this._resources[resourceConfig.name] = resource;\n            }\n        });\n    }\n\n    private createResource(url: string, path: string, defaultParams?: any, actions?: any) {\n        url = url || this._serverUrl;\n        return this.$resource(this._serverUrl + path, defaultParams, actions);\n    }\n\n    private createOperation(url: string, path: string) {\n        url = url || this._serverUrl;\n        return this.$resource(\n            url + path,\n            {},\n            {\n                call: { method: 'POST' }\n            }\n        );\n    }\n\n    private createCollection(url: string, path: string, defaultParams?: any) {\n        url = url || this._serverUrl;\n        return this.$resource(url + path,\n            defaultParams || { id: '@id' },\n            {\n                update: { method: 'PUT' }\n            }\n        );\n    }\n\n    private createPagedCollection(url: string, path: string, defaultParams?: any) {\n        url = url || this._serverUrl;\n        return this.$resource(url + path,\n            defaultParams || { id: '@id' },\n            {\n                page: { method: 'GET', isArray: false },\n                update: { method: 'PUT' }\n            }\n        );\n    }\n\n    private createPartyCollection(url: string, path: string, paramDefaults?: any) {\n        return this.createPagedCollection(url, path, paramDefaults ||\n            {\n                id: '@id',\n                party_id: '@party_id'\n            }\n        );\n    }\n\n    public get serverUrl(): string {\n        return this._serverUrl;\n    }\n\n    public set serverUrl(value: string) {\n        this._serverUrl = value;\n        this.reInitResource();\n    }\n\n    public get lockServerUrl(): boolean {\n        return this._lockServerUrl;\n    }\n\n    public set lockServerUrl(value: boolean) {\n        this._lockServerUrl = value;\n    }\n\n    public setHeaders(headers: any) {\n        for (let header in headers) {\n            if (headers.hasOwnProperty(header) && !_.isObject(headers[header])) {\n                this.$http.defaults.headers.common[header] = headers[header];\n            }\n        }\n    }\n\n    public getResource(name: string): any {\n        let resource = this._resources[name];\n        if (!resource)\n            throw new Error('Resource not found');\n\n        return resource;\n    }\n\n}\n\nclass RestProvider implements IRestProvider {\n    private _service: IRestService;\n\n    private _http: ng.IHttpProvider;\n    private _serverUrl: string;\n    private _lockServerUrl: boolean;\n    private _resourceConfigs: RestResourceConfig[] = [];\n\n    constructor($httpProvider: ng.IHttpProvider) {\n        this._http = $httpProvider;\n    }\n\n    public get serverUrl(): string {\n        return this._serverUrl;\n    }\n\n    public set serverUrl(value: string) {\n        this._serverUrl = value;\n    }\n\n    public get lockServerUrl(): boolean {\n        return this._lockServerUrl;\n    }\n\n    public set lockServerUrl(value: boolean) {\n        this._lockServerUrl = value;\n    }\n\n    public setHeaders(headers: any) {\n        for (let header in headers) {\n            if (headers.hasOwnProperty(header))\n                this._http.defaults.headers.common[header] = headers[header];\n        }\n    }\n\n    public registerResource(name: string, path: string, defaultParams?: any, actions?: any): void {\n        this._resourceConfigs.push({\n            operation: 'createResource',\n            name: name,\n            path: path,\n            defaultParams: defaultParams || null,\n            actions: actions || null\n        });\n    }\n    public registerOperation(name: string, path: string, defaultParams?: any, actions?: any): void {\n        this._resourceConfigs.push({\n            operation: 'createOperation',\n            name: name,\n            path: path,\n            defaultParams: defaultParams || null,\n            actions: actions || null\n        });\n    }\n\n    public registerCollection(name: string, path: string, defaultParams?: any, actions?: any): void {\n        this._resourceConfigs.push({\n            operation: 'createCollection',\n            name: name,\n            path: path,\n            defaultParams: defaultParams || null,\n            actions: actions || null\n        });\n    }\n\n    public registerPagedCollection(name: string, path: string, defaultParams?: any, actions?: any): void {\n        this._resourceConfigs.push({\n            operation: 'createPagedCollection',\n            name: name,\n            path: path,\n            defaultParams: defaultParams || null,\n            actions: actions || null\n        });\n    }\n\n    public registerPartyCollection(name: string, path: string, defaultParams?: any, actions?: any): void {\n        this._resourceConfigs.push({\n            operation: 'createPartyCollection',\n            name: name,\n            path: path,\n            defaultParams: defaultParams || null,\n            actions: actions || null\n        });\n    }\n\n    public $get(\n        $resource: ng.resource.IResourceService,\n        $http: ng.IHttpService,\n        $stateParams: angular.ui.IStateParamsService\n    ) {\n        \"ngInject\";\n\n        if (this._service == null)\n            this._service = new RestService($resource, $http, $stateParams, this._serverUrl, this._lockServerUrl, this._resourceConfigs);\n\n        return this._service;\n    }\n}\n\nangular\n    .module('pipRest')\n    .provider('pipRest', RestProvider);\n\n\n","angular\n    .module('pipRest', [ 'ngResource']);\n\n\nimport './IRestService';\nimport './RestService';\n\nexport * from './IRestService';"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvYXV0aF9zdGF0ZS9BdXRoSHR0cFJlc3BvbnNlSW50ZXJjZXB0b3IudHMiLCJzcmMvYXV0aF9zdGF0ZS9BdXRoU3RhdGVEZWNvcmF0b3IudHMiLCJzcmMvYXV0aF9zdGF0ZS9BdXRoU3RhdGVJbml0LnRzIiwic3JjL2F1dGhfc3RhdGUvQXV0aFN0YXRlU2VydmljZS50cyIsInNyYy9hdXRoX3N0YXRlL0lBdXRoU3RhdGVTZXJ2aWNlLnRzIiwic3JjL2F1dGhfc3RhdGUvaW5kZXgudHMiLCJzcmMvY2FjaGUvRGF0YUNhY2hlU2VydmljZS50cyIsInNyYy9jYWNoZS9JRGF0YUNhY2hlU2VydmljZS50cyIsInNyYy9jYWNoZS9pbmRleC50cyIsInNyYy9kYXRhL0RhdGFNb2RlbFNlcnZpY2UudHMiLCJzcmMvZGF0YS9pbmRleC50cyIsInNyYy9pbmRleC50cyIsInNyYy9yZXN0L1Jlc3RTZXJ2aWNlLnRzIiwic3JjL3Jlc3QvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ0NhLFFBQUEsb0JBQW9CLEdBQVcseUJBQXlCLENBQUM7QUFDekQsUUFBQSxrQkFBa0IsR0FBVyx1QkFBdUIsQ0FBQztBQUVsRTtJQUNJLHFDQUNZLEVBQWdCLEVBQ2hCLFVBQWdDLEVBQ2hDLFNBQThCLEVBQzlCLElBQW9CO1FBRTVCLFVBQVUsQ0FBQztRQU5mLGlCQU9DO1FBTlcsT0FBRSxHQUFGLEVBQUUsQ0FBYztRQUNoQixlQUFVLEdBQVYsVUFBVSxDQUFzQjtRQUNoQyxjQUFTLEdBQVQsU0FBUyxDQUFxQjtRQUM5QixTQUFJLEdBQUosSUFBSSxDQUFnQjtRQUt6QixrQkFBYSxHQUFHLFVBQUMsU0FBYztZQUNsQyxJQUFJLE9BQU8sR0FBZSxLQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLElBQUksS0FBSSxDQUFDLFVBQVUsQ0FB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QUksSUFBSSxDQUFDO1lBQ3RCLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxXQUFXLENBQUMsU0FBUyxFQUFFLEtBQUssRUFBRSxZQUFZLEVBQUUsSUFBSSxDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsY0FBYyxFQUFFLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxDQUFDO1FBRWpJLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDO0lBQ3pCLENBQUM7SUFDTCxtQkFBQztBQUFELENBaEdBLEFBZ0dDLElBQUE7QUFFRCxPQUFPO0tBQ0YsTUFBTSxDQUFDLFNBQVMsQ0FBQztLQUNqQixRQUFRLENBQUMsU0FBUyxFQUFFLFlBQVksQ0FBQyxDQUFDOzs7O0FDeFB2QyxPQUFPO0tBQ0YsTUFBTSxDQUFDLFNBQVMsRUFBRSxDQUFFLFlBQVksQ0FBQyxDQUFDLENBQUM7QUFHeEMsMEJBQXdCO0FBQ3hCLHlCQUF1QiIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsImltcG9ydCB7IElBdXRoU3RhdGUgfSBmcm9tICcuL0lBdXRoU3RhdGVTZXJ2aWNlJztcbmV4cG9ydCBjb25zdCBVbmF1dGhvcml6ZWRSZWRpcmVjdDogc3RyaW5nID0gJ3BpcFVuYXV0aG9yaXplZFJlZGlyZWN0JztcbmV4cG9ydCBjb25zdCBBY2Nlc3NEZW55UmVkaXJlY3Q6IHN0cmluZyA9ICdwaXBBY2Nlc3NEZW55UmVkaXJlY3QnO1xuXG5jbGFzcyBBdXRoSHR0cFJlc3BvbnNlSW50ZXJjZXB0b3IgaW1wbGVtZW50cyBuZy5JSHR0cEludGVyY2VwdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSAkcTogbmcuSVFTZXJ2aWNlLCBcbiAgICAgICAgcHJpdmF0ZSAkcm9vdFNjb3BlOiBuZy5JUm9vdFNjb3BlU2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSAkbG9jYXRpb246IG5nLklMb2NhdGlvblNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgJGxvZzogbmcuSUxvZ1NlcnZpY2VcbiAgICApIHtcbiAgICAgICAgXCJuZ0luamVjdFwiO1xuICAgIH1cblxuICAgIHB1YmxpYyByZXNwb25zZUVycm9yID0gKHJlamVjdGlvbjogYW55KTogbmcuSVByb21pc2U8YW55PiA9PiB7XG4gICAgICAgIGxldCB0b1N0YXRlOiBJQXV0aFN0YXRlID0gdGhpcy4kcm9vdFNjb3BlW3BpcC5zZXJ2aWNlcy5TdGF0ZVZhcl0gJiYgdGhpcy4kcm9vdFNjb3BlW3BpcC5zZXJ2aWNlcy5TdGF0ZVZhcl0ubmFtZSA/IHRoaXMuJHJvb3RTY29wZVtwaXAuc2VydmljZXMuU3RhdGVWYXJdLm5hbWUgOiBudWxsO1xuICAgICAgICBsZXQgdG9QYXJhbXM6IGFueSA9IHRoaXMuJHJvb3RTY29wZVtwaXAuc2VydmljZXMuU3RhdGVWYXJdICYmIHRoaXMuJHJvb3RTY29wZVtwaXAuc2VydmljZXMuU3RhdGVWYXJdLnBhcmFtcyA/IHRoaXMuJHJvb3RTY29wZVtwaXAuc2VydmljZXMuU3RhdGVWYXJdLnBhcmFtcyA6IG51bGw7XG4gICAgICAgIC8vIFdoZW4gc2VydmVyIHNlbmRzIE5vbi1hdXRoZW50aWNhdGVkIHJlc3BvbnNlXG4gICAgICAgIHN3aXRjaCAocmVqZWN0aW9uLnN0YXR1cykge1xuICAgICAgICAgICAgY2FzZSA0MDE6XG4gICAgICAgICAgICBjYXNlIDQ0MDpcbiAgICAgICAgICAgICAgICB0aGlzLiRsb2cuZXJyb3IoXCJSZXNwb25zZSBFcnJvciA0MDFcIiwgcmVqZWN0aW9uKTtcbiAgICAgICAgICAgICAgICAvLyBSZWRpcmVjdCB0byB1bmF1dGhvcml6ZWQgc3RhdGVcbiAgICAgICAgICAgICAgICB0aGlzLiRyb290U2NvcGUuJGVtaXQoVW5hdXRob3JpemVkUmVkaXJlY3QsIHsgLy8gdG9kbyB2YXIgZXZlbnQgZW5kIGV2ZW50IHBhcmFtc1xuICAgICAgICAgICAgICAgICAgICByZWRpcmVjdF90bzogdG9TdGF0ZSAmJiB0b1BhcmFtcyAmJiB0b1BhcmFtcy5yZWRpcmVjdF90byA/ICcnIDogdGhpcy4kbG9jYXRpb24udXJsKCksXG4gICAgICAgICAgICAgICAgICAgIHRvU3RhdGU6IHRvU3RhdGUsXG4gICAgICAgICAgICAgICAgICAgIHRvUGFyYW1zOiB0b1BhcmFtc1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQwMzpcbiAgICAgICAgICAgICAgICB0aGlzLiRsb2cuZXJyb3IoXCJSZXNwb25zZSBFcnJvciA0MDNcIiwgcmVqZWN0aW9uKTtcbiAgICAgICAgICAgICAgICAvLyBSZWRpcmVjdCB0byB1bmF1dGhvcml6ZWQgc3RhdGVcbiAgICAgICAgICAgICAgICB0aGlzLiRyb290U2NvcGUuJGVtaXQoQWNjZXNzRGVueVJlZGlyZWN0KTtcblxuICAgICAgICAgICAgICAgIGJyZWFrOyAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhpcy4kbG9nLmVycm9yKFwiZXJyb3JzX3Vua25vd25cIiwgcmVqZWN0aW9uKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLiRxLnJlamVjdChyZWplY3Rpb24pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY29uZmlndXJlQXV0aFN0YXRlKCRodHRwUHJvdmlkZXI6IG5nLklIdHRwUHJvdmlkZXIpIHtcbiAgICAkaHR0cFByb3ZpZGVyLmludGVyY2VwdG9ycy5wdXNoKCdwaXBBdXRoSHR0cFJlc3BvbnNlSW50ZXJjZXB0b3InKTtcbn1cblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ3BpcEF1dGhTdGF0ZScpXG4gICAgLmNvbmZpZyhjb25maWd1cmVBdXRoU3RhdGUpXG4gICAgLnNlcnZpY2UoJ3BpcEF1dGhIdHRwUmVzcG9uc2VJbnRlcmNlcHRvcicsIEF1dGhIdHRwUmVzcG9uc2VJbnRlcmNlcHRvcik7XG5cblxuXG4iLCJpbXBvcnQgeyBBdXRoU3RhdGVDb25maWcgfSBmcm9tICcuL0lBdXRoU3RhdGVTZXJ2aWNlJztcblxuLy8gRGVjb3JhdG9yIGZ1bmN0aW9uIHRvIGFkZCByZWRpcmVjdCBtZXRob2QgdG8gcGlwQXV0aFN0YXRlIHNlcnZpY2VcbmZ1bmN0aW9uIGRlY29yYXRlU3RhdGVzQXV0aFN0YXRlU2VydmljZSgkZGVsZWdhdGUsICR0aW1lb3V0KSB7XG4gICAgXCJuZ0luamVjdFwiO1xuXG4gICAgJGRlbGVnYXRlLmNvbmZpZyA9IG5ldyBBdXRoU3RhdGVDb25maWcoKTtcbiAgICAkZGVsZWdhdGUuc2lnbmluU3RhdGUgPSBzaWduaW5TdGF0ZTtcbiAgICAkZGVsZWdhdGUuc2lnbm91dFN0YXRlID0gc2lnbm91dFN0YXRlO1xuICAgICRkZWxlZ2F0ZS5hdXRob3JpemVkU3RhdGUgPSBhdXRob3JpemVkU3RhdGU7XG4gICAgJGRlbGVnYXRlLnVuYXV0aG9yaXplZFN0YXRlID0gdW5hdXRob3JpemVkU3RhdGU7XG5cbiAgICAkZGVsZWdhdGUuZ29Ub1NpZ25pbiA9IGdvVG9TaWduaW47XG4gICAgJGRlbGVnYXRlLmdvVG9TaWdub3V0ID0gZ29Ub1NpZ25vdXQ7XG4gICAgJGRlbGVnYXRlLmdvVG9BdXRob3JpemVkID0gZ29Ub0F1dGhvcml6ZWQ7XG4gICAgJGRlbGVnYXRlLmdvVG9VbmF1dGhvcml6ZWQgPSBnb1RvVW5hdXRob3JpemVkO1xuXG4gICAgcmV0dXJuICRkZWxlZ2F0ZTtcbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuXG4gICAgZnVuY3Rpb24gc2lnbmluU3RhdGUodmFsdWU/OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbmZpZy5zaWduaW5TdGF0ZSA9IHZhbHVlO1xuICAgICAgICB9IHJldHVybiB0aGlzLl9jb25maWcuc2lnbmluU3RhdGU7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNpZ25vdXRTdGF0ZSh2YWx1ZT86IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fY29uZmlnLnNpZ25vdXRTdGF0ZSA9IHZhbHVlO1xuICAgICAgICB9IHJldHVybiB0aGlzLl9jb25maWcuc2lnbm91dFN0YXRlO1xuICAgIH1cbiAgICBmdW5jdGlvbiBhdXRob3JpemVkU3RhdGUodmFsdWU/OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbmZpZy5hdXRob3JpemVkU3RhdGUgPSB2YWx1ZTtcbiAgICAgICAgfSByZXR1cm4gdGhpcy5fY29uZmlnLmF1dGhvcml6ZWRTdGF0ZTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdW5hdXRob3JpemVkU3RhdGUodmFsdWU/OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX2NvbmZpZy51bmF1dGhvcml6ZWRTdGF0ZSA9IHZhbHVlO1xuICAgICAgICB9IHJldHVybiB0aGlzLl9jb25maWcudW5hdXRob3JpemVkU3RhdGU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0U2lnbmluUGFyYW1zKHBhcmFtczogYW55KTogYW55IHtcbiAgICAgICAgaWYgKCFwYXJhbXMpIHJldHVybiBwYXJhbXM7XG5cbiAgICAgICAgaWYgKCFwYXJhbXMudG9QYXJhbXMpIHJldHVybiBwYXJhbXM7XG5cbiAgICAgICAgcGFyYW1zLnNlcnZlcl91cmwgPSBwYXJhbXMudG9QYXJhbXMuc2VydmVyX3VybCA/IHBhcmFtcy50b1BhcmFtcy5zZXJ2ZXJfdXJsIDogbnVsbDtcbiAgICAgICAgcGFyYW1zLmVtYWlsID0gcGFyYW1zLnRvUGFyYW1zLmVtYWlsID8gcGFyYW1zLnRvUGFyYW1zLmVtYWlsIDogbnVsbDtcbiAgICAgICAgcGFyYW1zLmxhbmd1YWdlID0gcGFyYW1zLnRvUGFyYW1zLmxhbmd1YWdlID8gcGFyYW1zLnRvUGFyYW1zLmxhbmd1YWdlIDogJ2VuJztcblxuICAgICAgICByZXR1cm4gcGFyYW1zO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdvVG9TaWduaW4ocGFyYW1zOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuX2NvbmZpZy5zaWduaW5TdGF0ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NpZ25pbiBzdGF0ZSB3YXMgbm90IGRlZmluZWQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhcmFtcyA9IHNldFNpZ25pblBhcmFtcyhwYXJhbXMpO1xuICAgICAgICB0aGlzLmdvKHRoaXMuX2NvbmZpZy5zaWduaW5TdGF0ZSwgcGFyYW1zKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ29Ub1NpZ25vdXQocGFyYW1zOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuX2NvbmZpZy5zaWdub3V0U3RhdGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTaWdub3V0IHN0YXRlIHdhcyBub3QgZGVmaW5lZCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5nbyh0aGlzLl9jb25maWcuc2lnbm91dFN0YXRlLCBwYXJhbXMpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnb1RvQXV0aG9yaXplZChwYXJhbXM6IGFueSk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5fY29uZmlnLmF1dGhvcml6ZWRTdGF0ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0F1dGhvcml6ZWQgc3RhdGUgd2FzIG5vdCBkZWZpbmVkJyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmdvKHRoaXMuX2NvbmZpZy5hdXRob3JpemVkU3RhdGUsIHBhcmFtcyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdvVG9VbmF1dGhvcml6ZWQocGFyYW1zOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuX2NvbmZpZy51bmF1dGhvcml6ZWRTdGF0ZSA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NpZ25pbiBzdGF0ZSB3YXMgbm90IGRlZmluZWQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZ28odGhpcy5fY29uZmlnLnVuYXV0aG9yaXplZFN0YXRlLCBwYXJhbXMpO1xuICAgIH1cbn1cblxuLy8gQ29uZmlnIGZ1bmN0aW9uIHRvIGRlY29yYXRlIHBpcEF1dGhTdGF0ZSBzZXJ2aWNlXG5mdW5jdGlvbiBhZGRTdGF0ZXNBdXRodGF0ZURlY29yYXRvcigkcHJvdmlkZSkge1xuICAgIFwibmdJbmplY3RcIjtcblxuICAgICRwcm92aWRlLmRlY29yYXRvcigncGlwQXV0aFN0YXRlJywgZGVjb3JhdGVTdGF0ZXNBdXRoU3RhdGVTZXJ2aWNlKTtcbn1cblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ3BpcEF1dGhTdGF0ZScpXG4gICAgLmNvbmZpZyhhZGRTdGF0ZXNBdXRodGF0ZURlY29yYXRvcik7XG5cbiIsImltcG9ydCB7IElBdXRoU3RhdGVTZXJ2aWNlLCBJQXV0aFN0YXRlIH0gZnJvbSAnLi9JQXV0aFN0YXRlU2VydmljZSc7XG5cbmZ1bmN0aW9uIGluaXRBdXRoU3RhdGUoXG4gICAgJGxvZzogbmcuSUxvZ1NlcnZpY2UsXG4gICAgJHJvb3RTY29wZTogbmcuSVJvb3RTY29wZVNlcnZpY2UsXG4gICAgJHN0YXRlOiBuZy51aS5JU3RhdGVTZXJ2aWNlLFxuICAgIHBpcFNlc3Npb246IHBpcC5zZXJ2aWNlcy5JU2Vzc2lvblNlcnZpY2UsXG4gICAgcGlwQXV0aFN0YXRlOiBJQXV0aFN0YXRlU2VydmljZVxuXG4pIHtcblxuICAgIC8vIEludGVyY2VwdCByb3V0ZXNcbiAgICAkcm9vdFNjb3BlLiRvbignJHN0YXRlQ2hhbmdlU3RhcnQnLCBzdGF0ZUNoYW5nZVN0YXJ0KTtcbiAgICAvLyBQcm9jZXNzIHVuYXV0aG9yaXplZCBhY2Nlc3MgZXJyb3JcbiAgICAkcm9vdFNjb3BlLiRvbigncGlwVW5hdXRob3JpemVkUmVkaXJlY3QnLCB1bmF1dGhvcml6ZWRSZWRpcmVjdCk7XG4gICAgLy8gUHJvY2VzcyBhZnRlciBzdGF0ZSBjaGFuZ2VkXG4gICAgJHJvb3RTY29wZS4kb24oJyRzdGF0ZUNoYW5nZVN1Y2Nlc3MnLCBzdGF0ZUNoYW5nZSk7XG5cbiAgICBmdW5jdGlvbiBzdGF0ZUNoYW5nZShldmVudDogbmcuSUFuZ3VsYXJFdmVudCwgdG9TdGF0ZTogYW5ndWxhci51aS5JU3RhdGUsXG4gICAgICAgIHRvUGFyYW1zOiBhbnksIGZyb21TdGF0ZTogYW5ndWxhci51aS5JU3RhdGUsIGZyb21QYXJhbXM6IGFueSk6IHZvaWQge1xuICAgICAgICAvLyBVbnNldCByb3V0aW5nIHZhcmlhYmxlIHRvIGRpc2FibGUgcGFnZSB0cmFuc2l0aW9uXG4gICAgICAgICRyb290U2NvcGVbcGlwLnNlcnZpY2VzLlJvdXRpbmdWYXJdID0gZmFsc2U7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc3RhdGVDaGFuZ2VTdGFydChldmVudDogbmcuSUFuZ3VsYXJFdmVudCwgdG9TdGF0ZTogSUF1dGhTdGF0ZSwgdG9QYXJhbXM6IGFueSxcbiAgICAgICAgZnJvbVN0YXRlOiBJQXV0aFN0YXRlLCBmcm9tUGFyYW1zOiBhbnkpOiB2b2lkIHtcblxuICAgICAgICAvLyBJbXBsZW1lbnQgcmVkaXJlY3QgbWVjaGFuaXNtXG4gICAgICAgIGlmIChwaXBBdXRoU3RhdGUucmVkaXJlY3QgJiYgcGlwQXV0aFN0YXRlLnJlZGlyZWN0KGV2ZW50LCB0b1N0YXRlLCB0b1BhcmFtcywgJHJvb3RTY29wZSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHVzZXIgaXMgbm90IGF1dGhvcml6ZWQgdGhlbiBzd2l0Y2ggdG8gc2lnbmluXG4gICAgICAgIGlmICgodG9TdGF0ZS5hdXRoIHx8IHRvU3RhdGUuYXV0aCA9PT0gdW5kZWZpbmVkKSAmJiAhcGlwU2Vzc2lvbi5pc09wZW5lZCgpKSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICBsZXQgcmVkaXJlY3RUbzogc3RyaW5nID0gcGlwQXV0aFN0YXRlLmhyZWYodG9TdGF0ZS5uYW1lLCB0b1BhcmFtcyk7XG5cbiAgICAgICAgICAgIC8vIFJlbW92ZSBoYXNodGFnXG4gICAgICAgICAgICBpZiAocmVkaXJlY3RUby5sZW5ndGggPiAwICYmIHJlZGlyZWN0VG9bMF0gPT0gJyMnKSB7XG4gICAgICAgICAgICAgICAgcmVkaXJlY3RUbyA9IHJlZGlyZWN0VG8uc3Vic3RyaW5nKDEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgIC8vICAgIDxJQXV0aFN0YXRlU2VydmljZT5cbiAgICAgICAgICAgcGlwQXV0aFN0YXRlLmdvVG9TaWduaW4oeyByZWRpcmVjdF90bzogcmVkaXJlY3RUbywgdG9TdGF0ZTogdG9TdGF0ZSwgdG9QYXJhbXM6IHRvUGFyYW1zIH0pO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBNb3ZlIHVzZXIgdG8gYXV0aG9yaXplZCBwYWdlXG4gICAgICAgIGlmICh0b1N0YXRlLm5hbWUgPT0gcGlwQXV0aFN0YXRlLnVuYXV0aG9yaXplZFN0YXRlKCkgJiYgcGlwU2Vzc2lvbi5pc09wZW5lZCgpKSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgcGlwQXV0aFN0YXRlLmdvVG9BdXRob3JpemVkKHt9KTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdW5hdXRob3JpemVkUmVkaXJlY3QoZXZlbnQ6IG5nLklBbmd1bGFyRXZlbnQsIHBhcmFtczogYW55KTogdm9pZCB7XG4gICAgICAgIC8vIHBpcEF1dGhTdGF0ZS5nb1RvU2lnbmluKHBhcmFtcyk7XG4gICAgICAgIHBpcEF1dGhTdGF0ZS5nb1RvU2lnbm91dChwYXJhbXMpO1xuICAgIH1cblxufVxuXG5mdW5jdGlvbiBjb25maWd1cmVBdXRoU3RhdGUocGlwVHJhbnNsYXRlUHJvdmlkZXI6IHBpcC5zZXJ2aWNlcy5JVHJhbnNsYXRlUHJvdmlkZXIpIHtcbiAgICAvLyBTd2l0Y2ggdG8gSFRNTDUgcm91dGluZyBtb2RlXG4gICAgcGlwVHJhbnNsYXRlUHJvdmlkZXIudHJhbnNsYXRpb25zKCdlbicsIHtcbiAgICAgICAgJ0VSUk9SX1NXSVRDSElORyc6ICdFcnJvciB3aGlsZSBzd2l0Y2hpbmcgcm91dGUuIFRyeSBhZ2Fpbi4nXG4gICAgfSk7XG5cbiAgICBwaXBUcmFuc2xhdGVQcm92aWRlci50cmFuc2xhdGlvbnMoJ3J1Jywge1xuICAgICAgICAnRVJST1JfU1dJVENISU5HJzogJ9Ce0YjQuNCx0LrQsCDQv9GA0Lgg0L/QtdGA0LXRhdC+0LTQtS4g0J/QvtC/0YDQvtCx0YPQudGC0LUg0LXRidGRINGA0LDQty4nXG4gICAgfSk7XG59XG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdwaXBBdXRoU3RhdGUnKVxuICAgIC5jb25maWcoY29uZmlndXJlQXV0aFN0YXRlKVxuICAgIC5ydW4oaW5pdEF1dGhTdGF0ZSk7XG5cbiIsImltcG9ydCB7IElBdXRoU3RhdGVTZXJ2aWNlLCBJQXV0aFN0YXRlUHJvdmlkZXIsIEF1dGhTdGF0ZUNvbmZpZywgSUF1dGhTdGF0ZSB9IGZyb20gJy4vSUF1dGhTdGF0ZVNlcnZpY2UnO1xuXG5jbGFzcyBBdXRoU3RhdGVQcm92aWRlciBpbXBsZW1lbnRzIElBdXRoU3RhdGVQcm92aWRlciB7XG4gICAgcHJpdmF0ZSBfc2VydmljZTogSUF1dGhTdGF0ZVNlcnZpY2U7XG4gICAgcHJpdmF0ZSBfY29uZmlnOiBBdXRoU3RhdGVDb25maWc7XG4gICAgcHJpdmF0ZSBfcmVkaXJlY3RlZFN0YXRlczogYW55ID0ge307XG5cbiAgICBwdWJsaWMgc3RhdGU6IEZ1bmN0aW9uO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgJHN0YXRlUHJvdmlkZXI6IG5nLnVpLklTdGF0ZVByb3ZpZGVyXG4gICAgKSB7XG4gICAgICAgIFwibmdJbmplY3RcIjtcblxuICAgICAgICB0aGlzLl9jb25maWcgPSBuZXcgQXV0aFN0YXRlQ29uZmlnKCk7XG5cblxuICAgICAgICB0aGlzLnN0YXRlID0gKHN0YXRlTmFtZTogc3RyaW5nLCBzdGF0ZUNvbmZpZzogSUF1dGhTdGF0ZSkgPT4ge1xuICAgICAgICAgICAgaWYgKHN0YXRlTmFtZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzdGF0ZU5hbWUgY2Fubm90IGJlIG51bGwnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdGF0ZUNvbmZpZyA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdzdGF0ZUNvbmZpZyBjYW5ub3QgYmUgbnVsbCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBhZGQgcmVzb2x2ZXJcbiAgICAgICAgICAgIGlmIChzdGF0ZUNvbmZpZyAmJiAoc3RhdGVDb25maWcuYXV0aCB8fCBzdGF0ZUNvbmZpZy5hdXRoZW50aWNhdGUpKSB7XG4gICAgICAgICAgICAgICAgc3RhdGVDb25maWcucmVzb2x2ZSA9IHN0YXRlQ29uZmlnLnJlc29sdmUgfHwge307XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuJHN0YXRlUHJvdmlkZXIuc3RhdGUoc3RhdGVOYW1lLCBzdGF0ZUNvbmZpZyk7XG5cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIHJlZGlyZWN0KGZyb21TdGF0ZTogc3RyaW5nLCB0b1N0YXRlOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fcmVkaXJlY3RlZFN0YXRlc1tmcm9tU3RhdGVdID0gdG9TdGF0ZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHNpZ25pblN0YXRlKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb25maWcuc2lnbmluU3RhdGU7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBzaWduaW5TdGF0ZSh2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuX2NvbmZpZy5zaWduaW5TdGF0ZSA9IHZhbHVlIHx8IG51bGw7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBzaWdub3V0U3RhdGUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbmZpZy5zaWdub3V0U3RhdGU7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBzaWdub3V0U3RhdGUodmFsdWU6IHN0cmluZykge1xuICAgICAgICB0aGlzLl9jb25maWcuc2lnbm91dFN0YXRlID0gdmFsdWUgfHwgbnVsbDtcbiAgICB9XG4gICAgcHVibGljIGdldCBhdXRob3JpemVkU3RhdGUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvbmZpZy5hdXRob3JpemVkU3RhdGU7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCBhdXRob3JpemVkU3RhdGUodmFsdWU6IHN0cmluZykge1xuICAgICAgICB0aGlzLl9jb25maWcuYXV0aG9yaXplZFN0YXRlID0gdmFsdWUgfHwgJy8nO1xuICAgIH1cbiAgICBwdWJsaWMgZ2V0IHVuYXV0aG9yaXplZFN0YXRlKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb25maWcudW5hdXRob3JpemVkU3RhdGU7XG4gICAgfVxuXG4gICAgcHVibGljIHNldCB1bmF1dGhvcml6ZWRTdGF0ZSh2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuX2NvbmZpZy51bmF1dGhvcml6ZWRTdGF0ZSA9IHZhbHVlIHx8ICcvJztcbiAgICB9XG5cbiAgICBwdWJsaWMgJGdldCgkc3RhdGU6IG5nLnVpLklTdGF0ZVNlcnZpY2UsICR0aW1lb3V0OiBuZy5JVGltZW91dFNlcnZpY2UpIHtcbiAgICAgICAgXCJuZ0luamVjdFwiO1xuXG4gICAgICAgIGlmICh0aGlzLl9zZXJ2aWNlID09IG51bGwpIHtcbiAgICAgICAgICAgICRzdGF0ZVsnX2NvbmZpZyddID0gdGhpcy5fY29uZmlnO1xuICAgICAgICAgICAgJHN0YXRlWydfcmVkaXJlY3RlZFN0YXRlcyddID0gdGhpcy5fcmVkaXJlY3RlZFN0YXRlcztcbiAgICAgICAgICAgICRzdGF0ZVsncmVkaXJlY3QnXSA9IHJlZGlyZWN0O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc2VydmljZSA9IDxJQXV0aFN0YXRlU2VydmljZT4kc3RhdGU7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlcnZpY2U7XG5cbiAgICAgICAgZnVuY3Rpb24gcmVkaXJlY3QoZXZlbnQsIHN0YXRlLCBwYXJhbXMpIHtcbiAgICAgICAgICAgIGxldCB0b1N0YXRlID0gdGhpcy5fcmVkaXJlY3RlZFN0YXRlc1tzdGF0ZS5uYW1lXTtcbiAgICAgICAgICAgIGlmIChfLmlzRnVuY3Rpb24odG9TdGF0ZSkpIHtcbiAgICAgICAgICAgICAgICB0b1N0YXRlID0gdG9TdGF0ZShzdGF0ZS5uYW1lLCBwYXJhbXMpO1xuXG4gICAgICAgICAgICAgICAgaWYgKF8uaXNOdWxsKHRvU3RhdGUpKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1JlZGlyZWN0ZWQgdG9TdGF0ZSBjYW5ub3QgYmUgbnVsbCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCEhdG9TdGF0ZSkge1xuICAgICAgICAgICAgICAgICR0aW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2l0aW9uVG8odG9TdGF0ZSwgcGFyYW1zLCB7IGxvY2F0aW9uOiAncmVwbGFjZScgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgncGlwQXV0aFN0YXRlJylcbiAgICAucHJvdmlkZXIoJ3BpcEF1dGhTdGF0ZScsIEF1dGhTdGF0ZVByb3ZpZGVyKTsiLCJleHBvcnQgaW50ZXJmYWNlIElBdXRoU3RhdGUgZXh0ZW5kcyBhbmd1bGFyLnVpLklTdGF0ZSB7XG4gICAgYXV0aD86IGJvb2xlYW47XG4gICAgYXV0aGVudGljYXRlPzogYW55O1xufVxuXG5leHBvcnQgY2xhc3MgQXV0aFN0YXRlQ29uZmlnIHtcbiAgICBzaWduaW5TdGF0ZTogc3RyaW5nID0gbnVsbDtcbiAgICBzaWdub3V0U3RhdGU6IHN0cmluZyA9IG51bGw7XG4gICAgYXV0aG9yaXplZFN0YXRlOiBzdHJpbmcgPSAnLyc7XG4gICAgdW5hdXRob3JpemVkU3RhdGU6IHN0cmluZyA9ICcvJztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJQXV0aFN0YXRlU2VydmljZSBleHRlbmRzIG5nLnVpLklTdGF0ZVNlcnZpY2UgIHtcbiAgICBzaWduaW5TdGF0ZSh2YWx1ZT86IHN0cmluZyk6IHN0cmluZztcbiAgICBzaWdub3V0U3RhdGUodmFsdWU/OiBzdHJpbmcpOiBzdHJpbmc7XG4gICAgYXV0aG9yaXplZFN0YXRlKHZhbHVlPzogc3RyaW5nKTogc3RyaW5nO1xuICAgIHVuYXV0aG9yaXplZFN0YXRlKHZhbHVlPzogc3RyaW5nKTogc3RyaW5nO1xuXG4gICAgcmVkaXJlY3QoZXZlbnQ6IG5nLklBbmd1bGFyRXZlbnQsIHRvU3RhdGU6IElBdXRoU3RhdGUsIHRvUGFyYW1zOiBhbnksICRyb290U2NvcGU6IG5nLklSb290U2NvcGVTZXJ2aWNlKTogYW55O1xuICAgIHN0YXRlKHN0YXRlTmFtZTogc3RyaW5nLCBzdGF0ZUNvbmZpZzogSUF1dGhTdGF0ZSk6IGFueTtcblxuICAgIGdvVG9TaWduaW4ocGFyYW1zOiBhbnkpOiB2b2lkO1xuICAgIGdvVG9TaWdub3V0KHBhcmFtczogYW55KTogdm9pZDtcbiAgICBnb1RvQXV0aG9yaXplZChwYXJhbXM6IGFueSk6IHZvaWQ7XG4gICAgZ29Ub1VuYXV0aG9yaXplZChwYXJhbXM6IGFueSk6IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUF1dGhTdGF0ZVByb3ZpZGVyIGV4dGVuZHMgbmcuSVNlcnZpY2VQcm92aWRlciB7XG4gICAgcmVkaXJlY3QoZnJvbVN0YXRlOiBzdHJpbmcsIHRvU3RhdGU6IHN0cmluZyk7XG4gICAgc2lnbmluU3RhdGU6IHN0cmluZztcbiAgICBzaWdub3V0U3RhdGU6IHN0cmluZztcbiAgICBhdXRob3JpemVkU3RhdGU6IHN0cmluZztcbiAgICB1bmF1dGhvcml6ZWRTdGF0ZTogc3RyaW5nO1xufVxuXG4iLCJhbmd1bGFyXG4gICAgLm1vZHVsZSgncGlwQXV0aFN0YXRlJywgW1xuICAgICAgICAnbmdSZXNvdXJjZScsXG4gICAgICAgICdwaXBTZXJ2aWNlcycsIFxuICAgICAgICAnTG9jYWxTdG9yYWdlTW9kdWxlJ1xuICAgIF0pO1xuXG5cbmltcG9ydCAnLi9BdXRoSHR0cFJlc3BvbnNlSW50ZXJjZXB0b3InO1xuaW1wb3J0ICcuL0F1dGhTdGF0ZURlY29yYXRvcic7XG5pbXBvcnQgJy4vQXV0aFN0YXRlSW5pdCc7XG5pbXBvcnQgJy4vSUF1dGhTdGF0ZVNlcnZpY2UnO1xuaW1wb3J0ICcuL0F1dGhTdGF0ZVNlcnZpY2UnO1xuXG5cblxuZXhwb3J0ICogZnJvbSAnLi9BdXRoSHR0cFJlc3BvbnNlSW50ZXJjZXB0b3InXG5leHBvcnQgKiBmcm9tICcuL0lBdXRoU3RhdGVTZXJ2aWNlJ1xuIiwiaW1wb3J0IHsgQ2FjaGVQYXJhbXMsIElEYXRhQ2FjaGVTZXJ2aWNlLCBJRGF0YUNhY2hlUHJvdmlkZXIgfSBmcm9tICcuL0lEYXRhQ2FjaGVTZXJ2aWNlJztcbmltcG9ydCB7IElEYXRhTW9kZWxTZXJ2aWNlIH0gZnJvbSAnLi4vZGF0YS9JRGF0YU1vZGVsU2VydmljZSc7XG5cbmNsYXNzIERhdGFDYWNoZSBpbXBsZW1lbnRzIElEYXRhQ2FjaGVTZXJ2aWNlIHtcbiAgICBwcml2YXRlIENBQ0hFX1RJTUVPVVQgPSAxMCAqIDYwMDAwOyAvLyAxMCBtaW5zIG9yIG1ha2UgaXQgY29uZmlndXJhYmxlXG4gICAgcHJpdmF0ZSBfY2FjaGU6IGFueTtcbiAgICBwcml2YXRlIF90aW1lb3V0OiBudW1iZXI7XG5cbiAgICBwdWJsaWMgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgJHE6IG5nLklRU2VydmljZSwgXG4gICAgICAgIHByaXZhdGUgcGlwRGF0YU1vZGVsOiBJRGF0YU1vZGVsU2VydmljZVxuICAgICkge1xuICAgICAgICBcIm5nSW5qZWN0XCI7XG5cbiAgICAgICAgdGhpcy5fY2FjaGUgPSB7fTtcbiAgICB9XG5cbiAgICAvLyBDb252ZXJ0cyBhIHN0cmluZyB2YWx1ZSBpbnRvIGEgbnVtZXJpYyBoYXNoIGNvZGVcbiAgICBwcml2YXRlIGhhc2goZGF0YTogQ2FjaGVQYXJhbXMpOiBudW1iZXIge1xuICAgICAgICBsZXQgZmlsdGVyZWREYXRhOiBDYWNoZVBhcmFtcyA9IDxDYWNoZVBhcmFtcz57fTtcblxuICAgICAgICAvLyBGaWx0ZXIgb25seSB0aGUgZ2VuZXJpYyBwYXJhbWV0ZXJzIHRoYXQgY2FuIGJlIHJlbGV2YW50IHRvIHRoZSBxdWVyeVxuICAgICAgICBpZiAoZGF0YSAhPSBudWxsKSB7XG4gICAgICAgICAgICAvLyBmaWx0ZXJlZERhdGEuaXRlbSA9IGRhdGEuaXRlbTtcbiAgICAgICAgICAgIC8vIGZpbHRlcmVkRGF0YS5pZCA9IGRhdGEuaWQ7XG4gICAgICAgICAgICBmaWx0ZXJlZERhdGEuZmlsdGVyID0gZGF0YS5maWx0ZXI7XG4gICAgICAgICAgICBmaWx0ZXJlZERhdGEuc2VhcmNoID0gZGF0YS5zZWFyY2g7XG4gICAgICAgICAgICBmaWx0ZXJlZERhdGEuc3RhcnQgPSBkYXRhLnN0YXJ0O1xuICAgICAgICAgICAgZmlsdGVyZWREYXRhLnRha2UgPSBkYXRhLnRha2U7XG4gICAgICAgICAgICBmaWx0ZXJlZERhdGEuc2tpcCA9IGRhdGEuc2tpcDtcbiAgICAgICAgICAgIC8vIGZpbHRlcmVkRGF0YS5zdGF0dXMgPSBkYXRhLnN0YXR1cztcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBzZXJpYWxpemVkRmlsdGVyID0gYW5ndWxhci50b0pzb24oZmlsdGVyZWREYXRhKTtcblxuICAgICAgICBpZiAoc2VyaWFsaXplZEZpbHRlciA9PSBudWxsIHx8IHNlcmlhbGl6ZWRGaWx0ZXIubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuIDA7XG5cbiAgICAgICAgbGV0IGg6IG51bWJlciA9IDA7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBzZXJpYWxpemVkRmlsdGVyLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBsZXQgY2hyID0gc2VyaWFsaXplZEZpbHRlci5jaGFyQ29kZUF0KGkpO1xuICAgICAgICAgICAgaCA9ICgoaCA8PCA1KSAtIGgpICsgY2hyO1xuICAgICAgICAgICAgaCB8PSAwOyAvLyBDb252ZXJ0IHRvIDMyYml0IGludGVnZXJcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBoO1xuICAgIH1cblxuICAgIC8vIEdlbmVyYXRlcyBwYXJhbWV0ZXJpemVkIGtleVxuICAgIHByaXZhdGUgZ2VuZXJhdGVLZXkocmVzb3VyY2U6IHN0cmluZywgcGFyYW1zPzogQ2FjaGVQYXJhbXMpOiBzdHJpbmcge1xuICAgICAgICBsZXQgaDogbnVtYmVyID0gdGhpcy5oYXNoKHBhcmFtcyk7XG4gICAgICAgIHJldHVybiByZXNvdXJjZSArIChoICE9IDAgPyAnXycgKyBoIDogJycpO1xuICAgIH07XG5cbiAgICAvLyBDbGVhciB0aGUgY2FjaGUsIGdsb2JhbGx5IG9yIHNlbGVjdGl2ZWx5XG4gICAgcHVibGljIGNsZWFyKHJlc291cmNlPzogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGlmIChyZXNvdXJjZSA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9jYWNoZSA9IHt9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9yIChsZXQga2V5IGluIHRoaXMuX2NhY2hlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGtleSA9PSByZXNvdXJjZSB8fCBrZXkuc3RhcnRzV2l0aChyZXNvdXJjZSArICdfJykpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2NhY2hlW2tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gVHJ5IHRvIHJldHJpZXZlIGNvbGxlY3Rpb24gZnJvbSB0aGUgY2FjaGVcbiAgICBwdWJsaWMgcmV0cmlldmUocmVzb3VyY2U6IHN0cmluZywgcGFyYW1zPzogQ2FjaGVQYXJhbXMpOiBhbnkge1xuICAgICAgICBpZiAocmVzb3VyY2UgPT0gbnVsbCkgdGhyb3cgbmV3IEVycm9yKCdSZXNvdXJjZSBjYW5ub3QgYmUgbnVsbCcpO1xuICAgICAgICBpZiAocmVzb3VyY2UgPT0gJycpIHRocm93IG5ldyBFcnJvcignUmVzb3VyY2UgY2Fubm90IGJlIGVtcHR5Jyk7XG5cbiAgICAgICAgbGV0IGtleTogc3RyaW5nID0gdGhpcy5nZW5lcmF0ZUtleShyZXNvdXJjZSwgcGFyYW1zKTtcbiAgICAgICAgbGV0IGhvbGRlcjogYW55ID0gdGhpcy5fY2FjaGVba2V5XTtcbiAgICAgICAgaWYgKGhvbGRlciA9PSBudWxsKSByZXR1cm4gbnVsbDtcblxuICAgICAgICAvLyBJZiBleHBpcmVkIHRoZW4gY2xlYW51cCBhbmQgcmV0dXJuIG51bGxcbiAgICAgICAgaWYgKGhvbGRlci5leHBpcmUgJiYgXy5ub3coKSAtIGhvbGRlci5leHBpcmUgPiB0aGlzLkNBQ0hFX1RJTUVPVVQpIHtcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9jYWNoZVtrZXldO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaG9sZGVyLmRhdGE7XG4gICAgfVxuXG4gICAgLy8gU3RvcmUgY29sbGVjdGlvbiBpbnRvIHRoZSBjYWNoZVxuICAgIHB1YmxpYyBzdG9yZShyZXNvdXJjZTogc3RyaW5nLCBkYXRhOiBhbnksIHBhcmFtcz86IENhY2hlUGFyYW1zKTogdm9pZCB7XG4gICAgICAgIGlmIChyZXNvdXJjZSA9PSBudWxsKSB0aHJvdyBuZXcgRXJyb3IoJ1Jlc291cmNlIGNhbm5vdCBiZSBudWxsJyk7XG4gICAgICAgIGlmIChyZXNvdXJjZSA9PSAnJykgdGhyb3cgbmV3IEVycm9yKCdSZXNvdXJjZSBjYW5ub3QgYmUgZW1wdHknKTtcblxuICAgICAgICB0aGlzLl9jYWNoZVt0aGlzLmdlbmVyYXRlS2V5KHJlc291cmNlLCBwYXJhbXMpXSA9IHtcbiAgICAgICAgICAgIGV4cGlyZTogXy5ub3coKSxcbiAgICAgICAgICAgIGRhdGE6IGRhdGFcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBTdG9yZSBjb2xsZWN0aW9uIGludG8gdGhlIGNhY2hlIHdpdGhvdXQgZXhwaXJhdGlvblxuICAgIHB1YmxpYyBzdG9yZVBlcm1hbmVudGx5KHJlc291cmNlOiBzdHJpbmcsIGRhdGE6IGFueSwgcGFyYW1zPzogQ2FjaGVQYXJhbXMpOiB2b2lkIHtcbiAgICAgICAgaWYgKHJlc291cmNlID09IG51bGwpIHRocm93IG5ldyBFcnJvcignUmVzb3VyY2UgY2Fubm90IGJlIG51bGwnKTtcbiAgICAgICAgaWYgKHJlc291cmNlID09ICcnKSB0aHJvdyBuZXcgRXJyb3IoJ1Jlc291cmNlIGNhbm5vdCBiZSBlbXB0eScpO1xuXG4gICAgICAgIHRoaXMuX2NhY2hlW3RoaXMuZ2VuZXJhdGVLZXkocmVzb3VyY2UsIHBhcmFtcyldID0ge1xuICAgICAgICAgICAgZXhwaXJlOiBudWxsLFxuICAgICAgICAgICAgZGF0YTogZGF0YVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIFJlbW92ZSBjb2xsZWN0aW9uIGZyb20gdGhlIGNhY2hlXG4gICAgcHVibGljIHJlbW92ZShyZXNvdXJjZTogc3RyaW5nLCBwYXJhbXM/OiBDYWNoZVBhcmFtcyk6IHZvaWQge1xuICAgICAgICBpZiAocmVzb3VyY2UgPT0gbnVsbCkgdGhyb3cgbmV3IEVycm9yKCdSZXNvdXJjZSBjYW5ub3QgYmUgbnVsbCcpO1xuICAgICAgICBpZiAocmVzb3VyY2UgPT0gJycpIHRocm93IG5ldyBFcnJvcignUmVzb3VyY2UgY2Fubm90IGJlIGVtcHR5Jyk7XG5cbiAgICAgICAgZGVsZXRlIHRoaXMuX2NhY2hlW3RoaXMuZ2VuZXJhdGVLZXkocmVzb3VyY2UsIHBhcmFtcyldO1xuICAgIH07XG5cbiAgICBwdWJsaWMgdXBkYXRlT25lKHJlc291cmNlOiBzdHJpbmcsIGl0ZW06IGFueSwgcGFyYW1zPzogQ2FjaGVQYXJhbXMpOiB2b2lkIHtcbiAgICAgICAgaWYgKHJlc291cmNlID09IG51bGwpIHRocm93IG5ldyBFcnJvcignUmVzb3VyY2UgY2Fubm90IGJlIG51bGwnKTtcbiAgICAgICAgaWYgKGl0ZW0gPT0gbnVsbCkgcmV0dXJuO1xuXG4gICAgICAgIGxldCBkYXRhOiBhbnkgPSB0aGlzLnJldHJpZXZlKHJlc291cmNlLCBwYXJhbXMpO1xuXG4gICAgICAgIGlmIChkYXRhICE9IG51bGwpIHtcbiAgICAgICAgICAgIGxldCBpc0FkZGVkID0gZmFsc2U7XG4gICAgICAgICAgICBsZXQgc2l6ZSA9IGRhdGEubGVuZ3RoO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoZGF0YVtpXS5pZCA9PSBpdGVtLmlkKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGFbaV0gPSBpdGVtO1xuICAgICAgICAgICAgICAgICAgICBpc0FkZGVkID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFpc0FkZGVkKSBkYXRhLnB1c2goaXRlbSk7XG4gICAgICAgICAgICB0aGlzLnN0b3JlKHJlc291cmNlLCBkYXRhLCBwYXJhbXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gVHJpZXMgdG8gcmV0cmlldmUgY29sbGVjdGlvbiBmcm9tIHRoZSBjYWNoZSwgb3RoZXJ3aXNlIGxvYWQgaXQgZnJvbSBzZXJ2ZXJcbiAgICBwdWJsaWMgcmV0cmlldmVPckxvYWQocGFyYW1zOiBDYWNoZVBhcmFtcywgc3VjY2Vzc0NhbGxiYWNrPzogKGRhdGE6IGFueSkgPT4gdm9pZCwgZXJyb3JDYWxsYmFjaz86IChlcnI6IGFueSkgPT4gdm9pZCk6IGFueSB7XG4gICAgICAgIGlmIChwYXJhbXMgPT0gbnVsbCkgdGhyb3cgbmV3IEVycm9yKCdwYXJhbXMgY2Fubm90IGJlIG51bGwnKTtcblxuICAgICAgICBsZXQgcmVzb3VyY2U6IHN0cmluZyA9IHBhcmFtcy5yZXNvdXJjZTsgLy8ocGFyYW1zLmNhY2hlIHx8IHBhcmFtcy5yZXNvdXJjZSk7XG5cbiAgICAgICAgLy8gUmV0cmlldmUgZGF0YSBmcm9tIGNhY2hlXG4gICAgICAgIGxldCBmaWx0ZXI6IEZ1bmN0aW9uID0gcGFyYW1zLmZpbHRlcjtcbiAgICAgICAgbGV0IGZvcmNlOiBib29sZWFuID0gISFwYXJhbXMuZm9yY2U7XG4gICAgICAgIGxldCByZXN1bHQ6IGFueSA9ICFmb3JjZSA/IHRoaXMucmV0cmlldmUocmVzb3VyY2UsIHBhcmFtcykgOiBudWxsO1xuICAgICAgICBsZXQgZGVmZXJyZWQ6IGFueSA9IHRoaXMuJHEuZGVmZXIoKTtcbiAgICAgICAgbGV0IG1ldGhvZDogc3RyaW5nO1xuICAgICAgICBpZiAoISFwYXJhbXMucGFnaW5nKSB7XG4gICAgICAgICAgICBtZXRob2QgPSAncGFnZSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtZXRob2QgPSBwYXJhbXMuc2luZ2xlUmVzdWx0ID8gJ3JlYWRPbmUnIDogJ3JlYWQnO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJldHVybiByZXN1bHQgaWYgaXQgZXhpc3RzXG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgIGlmIChmaWx0ZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmRhdGEgPSBmaWx0ZXIocmVzdWx0LmRhdGEpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGZpbHRlcihyZXN1bHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChfLmlzRnVuY3Rpb24oc3VjY2Vzc0NhbGxiYWNrKSkgeyBzdWNjZXNzQ2FsbGJhY2socmVzdWx0KTsgfVxuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShyZXN1bHQpO1xuXG4gICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucGlwRGF0YU1vZGVsW21ldGhvZF0oXG4gICAgICAgICAgICBwYXJhbXMsXG4gICAgICAgICAgICAoZGF0YTogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gU3RvcmUgZGF0YSBpbiBjYWNoZSBhbmQgcmV0dXJuXG4gICAgICAgICAgICAgICAgcGFyYW1zLnVwZGF0ZWRJdGVtID9cbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVPbmUocmVzb3VyY2UsIGRhdGEsIHBhcmFtcykgOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b3JlKHJlc291cmNlLCBkYXRhLCBwYXJhbXMpO1xuICAgICAgICAgICAgICAgIGlmIChmaWx0ZXIpIGRhdGEgPSBmaWx0ZXIoZGF0YSk7XG4gICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShkYXRhKTtcblxuICAgICAgICAgICAgICAgIGlmIChfLmlzRnVuY3Rpb24oc3VjY2Vzc0NhbGxiYWNrKSkgeyBzdWNjZXNzQ2FsbGJhY2soZGF0YSk7IH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAoZXJyOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBSZXR1cm4gZXJyb3JcbiAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICBpZiAoXy5pc0Z1bmN0aW9uKGVycm9yQ2FsbGJhY2spKSBlcnJvckNhbGxiYWNrKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gUmV0dXJuIGRlZmVycmVkIG9iamVjdFxuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVtb3ZlT25lKHJlc291cmNlOiBzdHJpbmcsIGl0ZW06IGFueSk6IHZvaWQge1xuICAgICAgICBpZiAocmVzb3VyY2UgPT0gbnVsbCkgdGhyb3cgbmV3IEVycm9yKCdSZXNvdXJjZSBjYW5ub3QgYmUgbnVsbCcpO1xuICAgICAgICBpZiAoaXRlbSA9PSBudWxsKSByZXR1cm47XG5cbiAgICAgICAgZm9yIChsZXQga2V5IGluIHRoaXMuX2NhY2hlKSB7XG4gICAgICAgICAgICBpZiAoa2V5ID09IHJlc291cmNlIHx8IGtleS5zdGFydHNXaXRoKHJlc291cmNlICsgJ18nKSkge1xuICAgICAgICAgICAgICAgIGxldCBkYXRhOiBhbnkgPSB0aGlzLl9jYWNoZVtrZXldLmRhdGE7XG4gICAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhW2ldLmlkID09IGl0ZW0uaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpLS07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBPQlNPTEVURSAtIFdJTEwgQkUgUkVNT1ZFRCBPTkNFIENPREUgSVMgUkVGQUNUT1JFRFxuICAgIHB1YmxpYyBkZWNvcmF0ZUFkZENhbGxiYWNrKHJlc291cmNlOiBzdHJpbmcsIHBhcmFtcz86IENhY2hlUGFyYW1zLCBzdWNjZXNzQ2FsbGJhY2s/OiAoZGF0YTogYW55KSA9PiB2b2lkKTogRnVuY3Rpb24ge1xuICAgICAgICByZXR1cm4gKGl0ZW06IGFueSkgPT4ge1xuICAgICAgICAgICAgaWYgKCFwYXJhbXMgfHwgIXBhcmFtcy5ub3RDbGVhcmVkQ2FjaGUpIHsgdGhpcy5jbGVhcihyZXNvdXJjZSk7IH1cbiAgICAgICAgICAgIGlmIChfLmlzRnVuY3Rpb24oc3VjY2Vzc0NhbGxiYWNrKSkgeyBzdWNjZXNzQ2FsbGJhY2soaXRlbSk7IH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwdWJsaWMgZGVjb3JhdGVSZW1vdmVDYWxsYmFjayhyZXNvdXJjZTogc3RyaW5nLCBwYXJhbXM/OiBDYWNoZVBhcmFtcywgc3VjY2Vzc0NhbGxiYWNrPzogKGRhdGE6IGFueSkgPT4gdm9pZCk6IEZ1bmN0aW9uIHtcbiAgICAgICAgcmV0dXJuIChpdGVtOiBhbnkpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlT25lKHJlc291cmNlLCBwYXJhbXMpO1xuICAgICAgICAgICAgaWYgKF8uaXNGdW5jdGlvbihzdWNjZXNzQ2FsbGJhY2spKSB7IHN1Y2Nlc3NDYWxsYmFjayhpdGVtKTsgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHB1YmxpYyBkZWNvcmF0ZVVwZGF0ZUNhbGxiYWNrKHJlc291cmNlOiBzdHJpbmcsIHBhcmFtcz86IENhY2hlUGFyYW1zLCBzdWNjZXNzQ2FsbGJhY2s/OiAoZGF0YTogYW55KSA9PiB2b2lkKTogRnVuY3Rpb24ge1xuICAgICAgICByZXR1cm4gKGl0ZW06IGFueSkgPT4ge1xuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHRoaXMuX2NhY2hlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGtleSA9PSByZXNvdXJjZSB8fCBrZXkuc3RhcnRzV2l0aChyZXNvdXJjZSArICdfJykpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGE6IGFueSA9IHRoaXMuX2NhY2hlW2tleV0uZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFbaV0uaWQgPT0gaXRlbS5pZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhW2ldID0gaXRlbTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChfLmlzRnVuY3Rpb24oc3VjY2Vzc0NhbGxiYWNrKSkgeyBzdWNjZXNzQ2FsbGJhY2soaXRlbSk7IH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0VGltZW91dChuZXdUaW1lb3V0OiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgICBpZiAobmV3VGltZW91dCkge1xuICAgICAgICAgICAgdGhpcy5DQUNIRV9USU1FT1VUID0gbmV3VGltZW91dDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5DQUNIRV9USU1FT1VUO1xuICAgIH1cbiBcbn1cblxuY2xhc3MgRGF0YUNhY2hlUHJvdmlkZXIgaW1wbGVtZW50cyBJRGF0YUNhY2hlUHJvdmlkZXIge1xuICAgIHByaXZhdGUgX3NlcnZpY2U6IERhdGFDYWNoZTtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgIH1cblxuICAgIHB1YmxpYyAkZ2V0KCRxOiBuZy5JUVNlcnZpY2UsIHBpcERhdGFNb2RlbDogSURhdGFNb2RlbFNlcnZpY2UpIHtcbiAgICAgICAgXCJuZ0luamVjdFwiO1xuXG4gICAgICAgIGlmICh0aGlzLl9zZXJ2aWNlID09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuX3NlcnZpY2UgPSBuZXcgRGF0YUNhY2hlKCRxLCBwaXBEYXRhTW9kZWwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9zZXJ2aWNlO1xuICAgIH1cbn1cblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ3BpcERhdGFDYWNoZScsIFtdKVxuICAgIC5wcm92aWRlcigncGlwRGF0YUNhY2hlJywgRGF0YUNhY2hlUHJvdmlkZXIpO1xuXG5cbiIsImV4cG9ydCBjbGFzcyBDYWNoZVBhcmFtcyB7XG4gICAgZm9yY2U/OiBib29sZWFuO1xuICAgIHJlc291cmNlPzogc3RyaW5nO1xuICAgIC8vIGNhY2hlPzogc3RyaW5nOyBjYWNoZSB8fCByZXNvdXJjZVxuICAgIGZpbHRlcj86IEZ1bmN0aW9uO1xuICAgIHNpbmdsZVJlc3VsdD86IGJvb2xlYW47XG4gICAgLy8gcGFydHlfaWQ6IHN0cmluZztcbiAgICAvLyBpdGVtPzogYW55O1xuICAgIC8vIGlkPzogc3RyaW5nO1xuICAgIHNlYXJjaD86IHN0cmluZztcbiAgICBzdGFydD86IGFueTtcbiAgICB0YWtlPzogbnVtYmVyO1xuICAgIHNraXA/OiBudW1iZXI7XG4gICAgLy8gc3RhdHVzPzogc3RyaW5nO1xuICAgIG5vdENsZWFyZWRDYWNoZT86IGJvb2xlYW47XG4gICAgcGFnaW5nPzogYm9vbGVhbjtcbiAgICB1cGRhdGVkSXRlbT86IGFueTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJRGF0YUNhY2hlU2VydmljZSB7XG4gICAgc2V0VGltZW91dChuZXdUaW1lb3V0OiBudW1iZXIpOiBudW1iZXI7XG5cbiAgICBzdG9yZShyZXNvdXJjZTogc3RyaW5nLCBkYXRhOiBhbnksIHBhcmFtcz86IENhY2hlUGFyYW1zKTogdm9pZDtcbiAgICBzdG9yZVBlcm1hbmVudGx5KHJlc291cmNlOiBzdHJpbmcsIGRhdGE6IGFueSwgcGFyYW1zPzogQ2FjaGVQYXJhbXMpOiB2b2lkO1xuICAgIHJldHJpZXZlKHJlc291cmNlOiBzdHJpbmcsIHBhcmFtcz86IENhY2hlUGFyYW1zKTogYW55O1xuICAgIHJldHJpZXZlT3JMb2FkKHBhcmFtczogQ2FjaGVQYXJhbXMsIHN1Y2Nlc3NDYWxsYmFjaz86IChkYXRhOiBhbnkpID0+IHZvaWQsIGVycm9yQ2FsbGJhY2s/OiAoZXJyOiBhbnkpID0+IHZvaWQpOiBhbnk7XG4gICAgdXBkYXRlT25lKHJlc291cmNlOiBzdHJpbmcsIGl0ZW06IGFueSwgcGFyYW1zPzogQ2FjaGVQYXJhbXMpOiB2b2lkO1xuICAgIHJlbW92ZShyZXNvdXJjZTogc3RyaW5nLCBwYXJhbXM/OiBDYWNoZVBhcmFtcyk6IHZvaWQ7XG4gICAgcmVtb3ZlT25lKHJlc291cmNlOiBzdHJpbmcsIGl0ZW06IGFueSk6IHZvaWQ7XG4gICAgY2xlYXIocmVzb3VyY2U/OiBzdHJpbmcpOiB2b2lkO1xuXG4gICAgZGVjb3JhdGVBZGRDYWxsYmFjayhyZXNvdXJjZTogc3RyaW5nLCBwYXJhbXM/OiBDYWNoZVBhcmFtcywgc3VjY2Vzc0NhbGxiYWNrPzogKGRhdGE6IGFueSkgPT4gdm9pZCk6IEZ1bmN0aW9uO1xuICAgIGRlY29yYXRlVXBkYXRlQ2FsbGJhY2socmVzb3VyY2U6IHN0cmluZywgcGFyYW1zPzogQ2FjaGVQYXJhbXMsIHN1Y2Nlc3NDYWxsYmFjaz86IChkYXRhOiBhbnkpID0+IHZvaWQpOiBGdW5jdGlvbjtcbiAgICBkZWNvcmF0ZVJlbW92ZUNhbGxiYWNrKHJlc291cmNlOiBzdHJpbmcsIHBhcmFtcz86IENhY2hlUGFyYW1zLCBzdWNjZXNzQ2FsbGJhY2s/OiAoZGF0YTogYW55KSA9PiB2b2lkKTogRnVuY3Rpb247XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSURhdGFDYWNoZVByb3ZpZGVyIGV4dGVuZHMgbmcuSVNlcnZpY2VQcm92aWRlciB7fSIsImFuZ3VsYXJcbiAgICAubW9kdWxlKCdwaXBEYXRhQ2FjaGUnLCBbJ3BpcERhdGFNb2RlbCddKTtcblxuaW1wb3J0ICcuL0RhdGFDYWNoZVNlcnZpY2UnO1xuaW1wb3J0ICcuL0lEYXRhQ2FjaGVTZXJ2aWNlJztcblxuZXhwb3J0ICogZnJvbSAnLi9JRGF0YUNhY2hlU2VydmljZSc7IiwiaW1wb3J0IHsgSURhdGFNb2RlbFNlcnZpY2UsIElEYXRhTW9kZWxQcm92aWRlciB9IGZyb20gJy4vSURhdGFNb2RlbFNlcnZpY2UnO1xuaW1wb3J0IHsgSVJlc3RTZXJ2aWNlIH0gZnJvbSAnLi4vcmVzdC9JUmVzdFNlcnZpY2UnXG5cbmRlY2xhcmUgdmFyIGFzeW5jOiBhbnk7XG5cbi8vIFRvZG86IFNoYWxsIGl0IGJlIGp1c3QgYW4gYWJzdHJhY3QgY2xhc3M/XG4vLyBUb2RvOiBVc2UgZ2VuZXJpY3MgdG8gbWFrZSBpdCB0eXBlLXNhZmVcbmNsYXNzIERhdGFNb2RlbCBpbXBsZW1lbnRzIElEYXRhTW9kZWxTZXJ2aWNlIHtcbiAgICBwdWJsaWMgc2F2ZTtcbiAgICBwdWJsaWMgcmVtb3ZlO1xuICAgIHB1YmxpYyBxdWVyeTtcbiAgICBwdWJsaWMgZ2V0O1xuICAgIHB1YmxpYyByZWFkUGFnZTtcbiAgICBwdWJsaWMgcXVlcnlQYWdlO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgJHN0YXRlUGFyYW1zOiBhbmd1bGFyLnVpLklTdGF0ZVBhcmFtc1NlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgcGlwUmVzdDogSVJlc3RTZXJ2aWNlXG4gICAgKSB7XG4gICAgICAgIFwibmdJbmplY3RcIjtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuc2F2ZSA9IHRoaXMudXBkYXRlO1xuICAgICAgICB0aGlzLnJlbW92ZSA9IHRoaXMuZGVsZXRlO1xuICAgICAgICB0aGlzLnF1ZXJ5ID0gdGhpcy5yZWFkO1xuICAgICAgICB0aGlzLmdldCA9IHRoaXMucmVhZE9uZTtcbiAgICAgICAgdGhpcy5yZWFkUGFnZSA9IHRoaXMucGFnZTtcbiAgICAgICAgdGhpcy5xdWVyeVBhZ2UgPSB0aGlzLnBhZ2U7XG4gICAgfVxuXG4gICAgLy8gRXhlY3V0ZSByZXF1ZXN0IHRvIFJFU1QgQVBJXG4gICAgcHVibGljIGV4ZWN1dGUocGFyYW1zOiBhbnksIHN1Y2Nlc3NDYWxsYmFjaz86IChyZXN1bHQ6IGFueSkgPT4gdm9pZCxcbiAgICAgICAgZXJyb3JDYWxsYmFjaz86IChlcnJvcjogYW55KSA9PiB2b2lkKTogbmcuSVByb21pc2U8e30+IHtcblxuICAgICAgICBsZXQgdCA9IHBhcmFtcy50cmFuc2FjdGlvbiwgdGlkO1xuXG4gICAgICAgIGlmICh0ICYmICFwYXJhbXMuc2tpcFRyYW5zYWN0aW9uQmVnaW4pIHtcbiAgICAgICAgICAgIHRpZCA9IHBhcmFtcy50cmFuc2FjdGlvbklkID0gdC5iZWdpbihcbiAgICAgICAgICAgICAgICBwYXJhbXMudHJhbnNhY3Rpb25PcGVyYXRpb24gfHwgJ1BST0NFU1NJTkcnXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKCF0aWQpIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHJldHVybiB0aGlzLnBpcFJlc3QucmVzb3VyY2VzW3BhcmFtcy5yZXNvdXJjZV0oKVtwYXJhbXMub3BlcmF0aW9uXShcbiAgICAgICAgcmV0dXJuIHRoaXMucGlwUmVzdC5nZXRSZXNvdXJjZShwYXJhbXMucmVzb3VyY2UpW3BhcmFtcy5vcGVyYXRpb25dKFxuICAgICAgICAgICAgcGFyYW1zLml0ZW0sXG4gICAgICAgICAgICAocmVzdWx0OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodCAmJiB0aWQgJiYgdC5hYm9ydGVkKHRpZCkpIHJldHVybjtcbiAgICAgICAgICAgICAgICBpZiAodCAmJiAhcGFyYW1zLnNraXBUcmFuc2FjdGlvbkVuZCkgdC5lbmQoKTtcbiAgICAgICAgICAgICAgICBpZiAoc3VjY2Vzc0NhbGxiYWNrKSBzdWNjZXNzQ2FsbGJhY2socmVzdWx0KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAoZXJyb3I6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0KSB0LmVuZChlcnJvcik7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yQ2FsbGJhY2spIGVycm9yQ2FsbGJhY2soZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8vIENyZWF0ZSBhbiBvYmplY3QgYW5kIGFkZCBpdCB0byBvYmplY3QgY29sbGVjdGlvblxuICAgIHB1YmxpYyBjcmVhdGUocGFyYW1zOiBhbnksIHN1Y2Nlc3NDYWxsYmFjaz86IChyZXN1bHQ6IGFueSkgPT4gdm9pZCxcbiAgICAgICAgZXJyb3JDYWxsYmFjaz86IChlcnJvcjogYW55KSA9PiB2b2lkKTogbmcuSVByb21pc2U8e30+IHtcblxuICAgICAgICBwYXJhbXMudHJhbnNhY3Rpb25PcGVyYXRpb24gPSBwYXJhbXMudHJhbnNhY3Rpb25PcGVyYXRpb24gfHwgJ1NBVklORyc7XG4gICAgICAgIHBhcmFtcy5vcGVyYXRpb24gPSBwYXJhbXMub3BlcmF0aW9uIHx8ICdzYXZlJztcblxuICAgICAgICByZXR1cm4gdGhpcy5leGVjdXRlKFxuICAgICAgICAgICAgcGFyYW1zLFxuICAgICAgICAgICAgKHJlc3VsdDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmFtcy5pdGVtQ29sbGVjdGlvbilcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zLml0ZW1Db2xsZWN0aW9uLnB1c2gocmVzdWx0KTtcblxuICAgICAgICAgICAgICAgIGlmIChzdWNjZXNzQ2FsbGJhY2spIHN1Y2Nlc3NDYWxsYmFjayhyZXN1bHQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIChlcnJvcjogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9yQ2FsbGJhY2spIGVycm9yQ2FsbGJhY2soZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8vIFVwZGF0ZSBhbiBvYmplY3QgYW5kIHJlcGxhY2UgaXQgaW4gb2JqZWN0IGNvbGxlY3Rpb25cbiAgICBwdWJsaWMgdXBkYXRlKHBhcmFtczogYW55LCBzdWNjZXNzQ2FsbGJhY2s/OiAocmVzdWx0OiBhbnkpID0+IHZvaWQsXG4gICAgICAgIGVycm9yQ2FsbGJhY2s/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCk6IG5nLklQcm9taXNlPHt9PiB7XG5cbiAgICAgICAgcGFyYW1zLnRyYW5zYWN0aW9uT3BlcmF0aW9uID0gcGFyYW1zLnRyYW5zYWN0aW9uT3BlcmF0aW9uIHx8ICdTQVZJTkcnO1xuICAgICAgICBwYXJhbXMub3BlcmF0aW9uID0gcGFyYW1zLm9wZXJhdGlvbiB8fCAndXBkYXRlJztcblxuICAgICAgICByZXR1cm4gdGhpcy5leGVjdXRlKFxuICAgICAgICAgICAgcGFyYW1zLFxuICAgICAgICAgICAgKHJlc3VsdDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmFtcy5pdGVtQ29sbGVjdGlvbilcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gXy5maW5kSW5kZXgocGFyYW1zLml0ZW1Db2xsZWN0aW9uLCBmdW5jdGlvbiAoaXRlbTogYW55KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5pZCA9PSByZXN1bHQuaWQ7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmFtcy5pdGVtQ29sbGVjdGlvbltpbmRleF0gPSByZXN1bHQ7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHN1Y2Nlc3NDYWxsYmFjaykgc3VjY2Vzc0NhbGxiYWNrKHJlc3VsdCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgKGVycm9yOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3JDYWxsYmFjaykgZXJyb3JDYWxsYmFjayhlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIGFuIG9iamVjdCBhbmQgcmVtb3ZlIGl0IGZyb20gb2JqZWN0IGNvbGxlY3Rpb25cbiAgICBwdWJsaWMgZGVsZXRlKHBhcmFtczogYW55LCBzdWNjZXNzQ2FsbGJhY2s/OiAocmVzdWx0OiBhbnkpID0+IHZvaWQsXG4gICAgICAgIGVycm9yQ2FsbGJhY2s/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCk6IG5nLklQcm9taXNlPHt9PiB7XG5cbiAgICAgICAgcGFyYW1zLnRyYW5zYWN0aW9uT3BlcmF0aW9uID0gcGFyYW1zLnRyYW5zYWN0aW9uT3BlcmF0aW9uIHx8ICdTQVZJTkcnO1xuICAgICAgICBwYXJhbXMub3BlcmF0aW9uID0gcGFyYW1zLm9wZXJhdGlvbiB8fCAncmVtb3ZlJztcblxuICAgICAgICByZXR1cm4gdGhpcy5leGVjdXRlKFxuICAgICAgICAgICAgcGFyYW1zLFxuICAgICAgICAgICAgKHJlc3VsdDogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHBhcmFtcy5pdGVtQ29sbGVjdGlvbilcbiAgICAgICAgICAgICAgICAgICAgXy5yZW1vdmUocGFyYW1zLml0ZW1Db2xsZWN0aW9uLCB7IGlkOiByZXN1bHQuaWQgfHwgKHBhcmFtcy5vYmplY3QgfHwge30pLmlkIHx8IChwYXJhbXMuaXRlbSB8fCB7fSkuaWQgfSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoc3VjY2Vzc0NhbGxiYWNrKSBzdWNjZXNzQ2FsbGJhY2socmVzdWx0KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAoZXJyb3I6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlcnJvckNhbGxiYWNrKSBlcnJvckNhbGxiYWNrKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBSZWFkIGEgY29sbGVjdGlvbiBvZiBvYmplY3RzXG4gICAgcHVibGljIHJlYWQocGFyYW1zOiBhbnksIHN1Y2Nlc3NDYWxsYmFjaz86IChyZXN1bHQ6IGFueSkgPT4gdm9pZCxcbiAgICAgICAgZXJyb3JDYWxsYmFjaz86IChlcnJvcjogYW55KSA9PiB2b2lkKTogbmcuSVByb21pc2U8e30+IHtcblxuICAgICAgICBwYXJhbXMudHJhbnNhY3Rpb25PcGVyYXRpb24gPSBwYXJhbXMudHJhbnNhY3Rpb25PcGVyYXRpb24gfHwgJ1JFQURJTkcnO1xuICAgICAgICBwYXJhbXMub3BlcmF0aW9uID0gcGFyYW1zLm9wZXJhdGlvbiB8fCAncXVlcnknO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmV4ZWN1dGUoXG4gICAgICAgICAgICBwYXJhbXMsXG4gICAgICAgICAgICAocmVzdWx0OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoc3VjY2Vzc0NhbGxiYWNrKSBzdWNjZXNzQ2FsbGJhY2socmVzdWx0KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAoZXJyb3I6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlcnJvckNhbGxiYWNrKSBlcnJvckNhbGxiYWNrKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBSZWFkIGEgc2luZ2xlIG9iamVjdCBhbmQgYWRkIGl0IGludG8gY29sbGVjdGlvblxuICAgIHB1YmxpYyByZWFkT25lKHBhcmFtczogYW55LCBzdWNjZXNzQ2FsbGJhY2s/OiAocmVzdWx0OiBhbnkpID0+IHZvaWQsXG4gICAgICAgIGVycm9yQ2FsbGJhY2s/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCk6IG5nLklQcm9taXNlPHt9PiB7XG5cbiAgICAgICAgcGFyYW1zLnRyYW5zYWN0aW9uT3BlcmF0aW9uID0gcGFyYW1zLnRyYW5zYWN0aW9uT3BlcmF0aW9uIHx8ICdSRUFESU5HJztcbiAgICAgICAgcGFyYW1zLm9wZXJhdGlvbiA9IHBhcmFtcy5vcGVyYXRpb24gfHwgJ3BhZ2UnO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmV4ZWN1dGUoXG4gICAgICAgICAgICBwYXJhbXMsXG4gICAgICAgICAgICAocmVzdWx0OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocGFyYW1zLml0ZW1Db2xsZWN0aW9uICYmIHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBfLmZpbmRJbmRleChwYXJhbXMuaXRlbUNvbGxlY3Rpb24sIHsgaWQ6IHJlc3VsdC5pZCB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID49IDApIHBhcmFtcy5pdGVtQ29sbGVjdGlvbltpbmRleF0gPSByZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgcGFyYW1zLml0ZW1Db2xsZWN0aW9uLnB1c2gocmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoc3VjY2Vzc0NhbGxiYWNrKSBzdWNjZXNzQ2FsbGJhY2socmVzdWx0KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAoZXJyb3I6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlcnJvckNhbGxiYWNrKSBlcnJvckNhbGxiYWNrKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBSZWFkIGEgcGFnZSBhbmQgYWRkIHJlc3VsdHMgaW50byBvYmplY3QgY29sbGVjdGlvblxuICAgIHB1YmxpYyBwYWdlKHBhcmFtczogYW55LCBzdWNjZXNzQ2FsbGJhY2s/OiAocmVzdWx0OiBhbnkpID0+IHZvaWQsXG4gICAgICAgIGVycm9yQ2FsbGJhY2s/OiAoZXJyb3I6IGFueSkgPT4gdm9pZCk6IG5nLklQcm9taXNlPHt9PiB7XG5cbiAgICAgICAgcGFyYW1zLnRyYW5zYWN0aW9uT3BlcmF0aW9uID0gcGFyYW1zLnRyYW5zYWN0aW9uT3BlcmF0aW9uIHx8ICdSRUFESU5HJztcbiAgICAgICAgcGFyYW1zLm9wZXJhdGlvbiA9IHBhcmFtcy5vcGVyYXRpb24gfHwgJ3BhZ2UnO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmV4ZWN1dGUoXG4gICAgICAgICAgICBwYXJhbXMsXG4gICAgICAgICAgICAocmVzdWx0OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocGFyYW1zLml0ZW1Db2xsZWN0aW9uICYmIHJlc3VsdC5kYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzdWx0LmRhdGEubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXMuaXRlbUNvbGxlY3Rpb24ucHVzaChyZXN1bHQuZGF0YVtpXSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHN1Y2Nlc3NDYWxsYmFjaykgc3VjY2Vzc0NhbGxiYWNrKHJlc3VsdCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgKGVycm9yOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3JDYWxsYmFjaykgZXJyb3JDYWxsYmFjayhlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gU2F2ZSBwaWN0dXJlIGFuZCBkb2N1bWVudCBmaWxlc1xuICAgIHB1YmxpYyB1cGxvYWRGaWxlcyhwYXJhbXM6IGFueSwgc3VjY2Vzc0NhbGxiYWNrPzogKCkgPT4gdm9pZCxcbiAgICAgICAgZXJyb3JDYWxsYmFjaz86IChlcnJvcjogYW55KSA9PiB2b2lkKTogbmcuSVByb21pc2U8e30+IHtcblxuICAgICAgICB2YXIgdCA9IHBhcmFtcy50cmFuc2FjdGlvbiwgdGlkO1xuXG4gICAgICAgIC8vIFN0YXJ0IHRyYW5zYWN0aW9uIGlmIG5lY2Vzc2FyeVxuICAgICAgICBpZiAodCAmJiAhcGFyYW1zLnNraXBUcmFuc2FjdGlvbkJlZ2luKSB7XG4gICAgICAgICAgICB0aWQgPSBwYXJhbXMudHJhbnNhY3Rpb25JZCA9IHQuYmVnaW4oXG4gICAgICAgICAgICAgICAgcGFyYW1zLnRyYW5zYWN0aW9uT3BlcmF0aW9uIHx8ICdTQVZJTkcnXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKCF0aWQpIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB1cGxvYWRGaWxlcyA9IFt7XG4gICAgICAgICAgICBwaWN0dXJlczogcGFyYW1zLnBpY3R1cmVzLFxuICAgICAgICAgICAgZG9jdW1lbnRzOiBwYXJhbXMuZG9jdW1lbnRzXG4gICAgICAgIH1dO1xuXG4gICAgICAgIC8vIGZyb20gY29udGVudFxuICAgICAgICBpZiAocGFyYW1zLml0ZW0gJiYgcGFyYW1zLml0ZW0uY29udGVudCkge1xuICAgICAgICAgICAgdmFyIHNhdmVSZXN1bHQgPSB0cnVlO1xuICAgICAgICAgICAgYXN5bmMuZWFjaFNlcmllcyhfLnVuaW9uKHBhcmFtcy5pdGVtLmNvbnRlbnQsIHVwbG9hZEZpbGVzKSxcbiAgICAgICAgICAgICAgICAob2JqLCBjYWxsYmFjaykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyDQvdC1INCy0YvQsdGA0LDQvSAtINC/0YDQvtC/0YPRgdC60LDQtdC8INGN0YLQvtGCIGl0ZW0gIHx8INC90LXRgiDRjdGC0L7Qs9C+INGB0L7QsdGL0YLQuNGPIGFjdGlvblxuICAgICAgICAgICAgICAgICAgICBpZiAoIW9iai5waWN0dXJlcyAmJiAhb2JqLmRvY3VtZW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmoucGljdHVyZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTYXZlIHBpY3R1cmVzIGZpcnN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqLnBpY3R1cmVzLnNhdmUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIHRpZCAmJiB0LmFib3J0ZWQodGlkKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVSZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygnYWJvcnRlZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2F2ZSBkb2N1bWVudHMgc2Vjb25kXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob2JqLmRvY3VtZW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5kb2N1bWVudHMuc2F2ZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgdGlkICYmIHQuYWJvcnRlZCh0aWQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZVJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKCdhYm9ydGVkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZXJyb3I6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZVJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGVycm9yOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVSZXN1bHQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvYmouZG9jdW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNhdmUgZG9jdW1lbnRzIGZpcnN0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iai5kb2N1bWVudHMuc2F2ZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiB0aWQgJiYgdC5hYm9ydGVkKHRpZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZVJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygnYWJvcnRlZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChlcnJvcjogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2F2ZVJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIChlcnJvcjogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZXJyb3IgJiYgc2F2ZVJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8g0YPQtNCw0LvRj9C10Lwg0L3QtdC90YPQttC90YvQtSDQvtCx0YrQtdC60YLRiyDQv9C10YDQtdC0INGB0L7RhdGA0LDQvdC10L3QuNC10LxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vINCy0YvQt9GL0LLQsNC10Lwg0LrQvtC70LHQtdC6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiAhcGFyYW1zLnNraXBUcmFuc2FjdGlvbkVuZCkgdC5lbmQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF8uZWFjaChwYXJhbXMuaXRlbS5jb250ZW50LCBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBpdGVtLnBpY3R1cmVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBpdGVtLmRvY3VtZW50cztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN1Y2Nlc3NDYWxsYmFjaykgc3VjY2Vzc0NhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyDQstGL0LfRi9Cy0LDQtdC8INC+0YjQuNCx0L7Rh9C90YvQuSDQutC+0LvQsdC10LpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0KSB0LmVuZChlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JDYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yQ2FsbGJhY2soZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChwYXJhbXMucGljdHVyZXMpIHtcbiAgICAgICAgICAgICAgICAvLyBTYXZlIHBpY3R1cmVzIGZpcnN0XG4gICAgICAgICAgICAgICAgcGFyYW1zLnBpY3R1cmVzLnNhdmUoXG4gICAgICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIHRpZCAmJiB0LmFib3J0ZWQodGlkKSkgcmV0dXJuO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTYXZlIGRvY3VtZW50cyBzZWNvbmRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXJhbXMuZG9jdW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zLmRvY3VtZW50cy5zYXZlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiB0aWQgJiYgdC5hYm9ydGVkKHRpZCkpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvIGV2ZXJ5dGhpbmcgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgIXBhcmFtcy5za2lwVHJhbnNhY3Rpb25FbmQpIHQuZW5kKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3VjY2Vzc0NhbGxiYWNrKSBzdWNjZXNzQ2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGVycm9yOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0KSB0LmVuZChlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JDYWxsYmFjaykgZXJyb3JDYWxsYmFjayhlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEbyBldmVyeXRoaW5nIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiAhcGFyYW1zLnNraXBUcmFuc2FjdGlvbkVuZCkgdC5lbmQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3VjY2Vzc0NhbGxiYWNrKSBzdWNjZXNzQ2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgKGVycm9yOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0KSB0LmVuZChlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3JDYWxsYmFjaykgZXJyb3JDYWxsYmFjayhlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwYXJhbXMuZG9jdW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgLy8gU2F2ZSBkb2N1bWVudHMgZmlyc3RcbiAgICAgICAgICAgICAgICBwYXJhbXMuZG9jdW1lbnRzLnNhdmUoXG4gICAgICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIHRpZCAmJiB0LmFib3J0ZWQodGlkKSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRG8gZXZlcnl0aGluZyBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiAhcGFyYW1zLnNraXBUcmFuc2FjdGlvbkVuZCkgdC5lbmQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdWNjZXNzQ2FsbGJhY2spIHN1Y2Nlc3NDYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAoZXJyb3I6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQpIHQuZW5kKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvckNhbGxiYWNrKSBlcnJvckNhbGxiYWNrKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIERvIGV2ZXJ5dGhpbmcgZWxzZVxuICAgICAgICAgICAgICAgIGlmICh0ICYmICFwYXJhbXMuc2tpcFRyYW5zYWN0aW9uRW5kKSB0LmVuZCgpO1xuICAgICAgICAgICAgICAgIGlmIChzdWNjZXNzQ2FsbGJhY2spIHN1Y2Nlc3NDYWxsYmFjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gQWJvcnQgdHJhbnNhY3Rpb24gd2l0aCBmaWxlIHVwbG9hZFxuICAgIHB1YmxpYyBhYm9ydEZpbGVzVXBsb2FkKHBhcmFtcykge1xuICAgICAgICBpZiAocGFyYW1zLnBpY3R1cmVzKVxuICAgICAgICAgICAgcGFyYW1zLnBpY3R1cmVzLmFib3J0KCk7XG4gICAgICAgIGlmIChwYXJhbXMuZG9jdW1lbnRzKVxuICAgICAgICAgICAgcGFyYW1zLmRvY3VtZW50cy5hYm9ydCgpO1xuICAgICAgICBpZiAocGFyYW1zLnRyYW5zYWN0aW9uKVxuICAgICAgICAgICAgcGFyYW1zLnRyYW5zYWN0aW9uLmFib3J0KCk7XG4gICAgfVxufVxuXG5jbGFzcyBEYXRhTW9kZWxQcm92aWRlciBpbXBsZW1lbnRzIElEYXRhTW9kZWxQcm92aWRlciB7XG4gICAgcHJpdmF0ZSBfc2VydmljZTogSURhdGFNb2RlbFNlcnZpY2U7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICApIHtcbiAgICAgICAgXCJuZ0luamVjdFwiO1xuXG4gICAgfVxuXG4gICAgcHVibGljICRnZXQoXG4gICAgICAgICRzdGF0ZVBhcmFtczogYW5ndWxhci51aS5JU3RhdGVQYXJhbXNTZXJ2aWNlLFxuICAgICAgICBwaXBSZXN0OiBJUmVzdFNlcnZpY2VcbiAgICApIHtcbiAgICAgICAgXCJuZ0luamVjdFwiO1xuICAgICAgICBcbiAgICAgICAgaWYgKHRoaXMuX3NlcnZpY2UgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fc2VydmljZSA9IG5ldyBEYXRhTW9kZWwoJHN0YXRlUGFyYW1zLCBwaXBSZXN0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLl9zZXJ2aWNlO1xuICAgIH1cbn1cblxuYW5ndWxhclxuICAgIC5tb2R1bGUoJ3BpcERhdGFNb2RlbCcpXG4gICAgLnByb3ZpZGVyKCdwaXBEYXRhTW9kZWwnLCBEYXRhTW9kZWxQcm92aWRlcik7IiwiYW5ndWxhclxuICAgIC5tb2R1bGUoJ3BpcERhdGFNb2RlbCcsIFsncGlwUmVzdCddKTtcblxuaW1wb3J0ICcuL0lEYXRhTW9kZWxTZXJ2aWNlJztcbmltcG9ydCAnLi9EYXRhTW9kZWxTZXJ2aWNlJztcblxuZXhwb3J0ICogZnJvbSAnLi9JRGF0YU1vZGVsU2VydmljZSc7IiwiXG5pbXBvcnQgJy4vcmVzdCc7XG5pbXBvcnQgJy4vZGF0YSc7XG5pbXBvcnQgJy4vY2FjaGUnO1xuaW1wb3J0ICcuL2F1dGhfc3RhdGUnO1xuXG5hbmd1bGFyXG4gICAgLm1vZHVsZSgncGlwQ29tbW9uUmVzdCcsIFtcbiAgICAgICAgJ3BpcERhdGFDYWNoZScsXG4gICAgICAgICdwaXBSZXN0JyxcbiAgICAgICAgJ3BpcERhdGFNb2RlbCcsXG4gICAgICAgICdwaXBBdXRoU3RhdGUnXG5cbiAgICBdKTtcblxuXG5leHBvcnQgKiBmcm9tICcuL3Jlc3QnO1xuZXhwb3J0ICogZnJvbSAnLi9kYXRhJztcbmV4cG9ydCAqIGZyb20gJy4vY2FjaGUnO1xuZXhwb3J0ICogZnJvbSAnLi9hdXRoX3N0YXRlJztcbiIsIlxuaW1wb3J0IHtcbiAgICBJUmVzdFByb3ZpZGVyLFxuICAgIElSZXN0U2VydmljZSxcbn0gZnJvbSAnLi9JUmVzdFNlcnZpY2UnO1xuXG5jbGFzcyBSZXN0UmVzb3VyY2VDb25maWcge1xuICAgIG9wZXJhdGlvbjogc3RyaW5nO1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBwYXRoOiBzdHJpbmc7XG4gICAgZGVmYXVsdFBhcmFtczogYW55O1xuICAgIGFjdGlvbnM6IGFueVxufTtcblxuY2xhc3MgUmVzdFNlcnZpY2UgaW1wbGVtZW50cyBJUmVzdFNlcnZpY2Uge1xuICAgIHByaXZhdGUgX3Jlc291cmNlczogYW55ID0ge307XG4gICAgcHJpdmF0ZSBfc2VydmVyVXJsOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBfbG9ja1NlcnZlclVybDogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlICRyZXNvdXJjZTogbmcucmVzb3VyY2UuSVJlc291cmNlU2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSAkaHR0cDogbmcuSUh0dHBTZXJ2aWNlLFxuICAgICAgICBwcml2YXRlICRzdGF0ZVBhcmFtczogbmcudWkuSVN0YXRlUGFyYW1zU2VydmljZSxcbiAgICAgICAgc2VydmVyVXJsOiBzdHJpbmcsXG4gICAgICAgIGxvY2tTZXJ2ZXJVcmw6IGJvb2xlYW4sXG4gICAgICAgIHByaXZhdGUgcmVzb3VyY2VDb25maWdzOiBSZXN0UmVzb3VyY2VDb25maWdbXVxuICAgICkge1xuICAgICAgICBcIm5nSW5qZWN0XCI7XG5cbiAgICAgICAgdGhpcy5fc2VydmVyVXJsID0gc2VydmVyVXJsO1xuICAgICAgICB0aGlzLl9sb2NrU2VydmVyVXJsID0gbG9ja1NlcnZlclVybDtcbiAgICAgICAgdGhpcy5pbml0UmVzb3VyY2VzKHJlc291cmNlQ29uZmlncyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZUluaXRSZXNvdXJjZSgpIHtcbiAgICAgICAgdGhpcy5fcmVzb3VyY2VzID0ge307XG4gICAgICAgIHRoaXMuaW5pdFJlc291cmNlcyh0aGlzLnJlc291cmNlQ29uZmlncyk7ICAgICAgICBcbiAgICB9XG5cbiAgICBwcml2YXRlIGluaXRSZXNvdXJjZXMocmVzb3VyY2VDb25maWdzOiBSZXN0UmVzb3VyY2VDb25maWdbXSk6IHZvaWQge1xuICAgICAgICBfLmVhY2gocmVzb3VyY2VDb25maWdzLCAocmVzb3VyY2VDb25maWcpID0+IHtcbiAgICAgICAgICAgIGxldCByZXNvdXJjZTogYW55O1xuICAgICAgICAgICAgc3dpdGNoIChyZXNvdXJjZUNvbmZpZy5vcGVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBjYXNlICdjcmVhdGVSZXNvdXJjZSc6XG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlID0gdGhpcy5jcmVhdGVSZXNvdXJjZSh0aGlzLl9zZXJ2ZXJVcmwsIHJlc291cmNlQ29uZmlnLnBhdGgsIHJlc291cmNlQ29uZmlnLmRlZmF1bHRQYXJhbXMsIHJlc291cmNlQ29uZmlnLmFjdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdjcmVhdGVPcGVyYXRpb24nOlxuICAgICAgICAgICAgICAgICAgICByZXNvdXJjZSA9IHRoaXMuY3JlYXRlT3BlcmF0aW9uKHRoaXMuX3NlcnZlclVybCwgcmVzb3VyY2VDb25maWcucGF0aCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2NyZWF0ZUNvbGxlY3Rpb24nOlxuICAgICAgICAgICAgICAgICAgICByZXNvdXJjZSA9IHRoaXMuY3JlYXRlQ29sbGVjdGlvbih0aGlzLl9zZXJ2ZXJVcmwsIHJlc291cmNlQ29uZmlnLnBhdGgsIHJlc291cmNlQ29uZmlnLmRlZmF1bHRQYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdjcmVhdGVQYWdlZENvbGxlY3Rpb24nOlxuICAgICAgICAgICAgICAgICAgICByZXNvdXJjZSA9IHRoaXMuY3JlYXRlUGFnZWRDb2xsZWN0aW9uKHRoaXMuX3NlcnZlclVybCwgcmVzb3VyY2VDb25maWcucGF0aCwgcmVzb3VyY2VDb25maWcuZGVmYXVsdFBhcmFtcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnY3JlYXRlUGFydHlDb2xsZWN0aW9uJzpcbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2UgPSB0aGlzLmNyZWF0ZVBhcnR5Q29sbGVjdGlvbih0aGlzLl9zZXJ2ZXJVcmwsIHJlc291cmNlQ29uZmlnLnBhdGgsIHJlc291cmNlQ29uZmlnLmRlZmF1bHRQYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHJlc291cmNlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVzb3VyY2VzW3Jlc291cmNlQ29uZmlnLm5hbWVdID0gcmVzb3VyY2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlUmVzb3VyY2UodXJsOiBzdHJpbmcsIHBhdGg6IHN0cmluZywgZGVmYXVsdFBhcmFtcz86IGFueSwgYWN0aW9ucz86IGFueSkge1xuICAgICAgICB1cmwgPSB1cmwgfHwgdGhpcy5fc2VydmVyVXJsO1xuICAgICAgICByZXR1cm4gdGhpcy4kcmVzb3VyY2UodGhpcy5fc2VydmVyVXJsICsgcGF0aCwgZGVmYXVsdFBhcmFtcywgYWN0aW9ucyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVPcGVyYXRpb24odXJsOiBzdHJpbmcsIHBhdGg6IHN0cmluZykge1xuICAgICAgICB1cmwgPSB1cmwgfHwgdGhpcy5fc2VydmVyVXJsO1xuICAgICAgICByZXR1cm4gdGhpcy4kcmVzb3VyY2UoXG4gICAgICAgICAgICB1cmwgKyBwYXRoLFxuICAgICAgICAgICAge30sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2FsbDogeyBtZXRob2Q6ICdQT1NUJyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVDb2xsZWN0aW9uKHVybDogc3RyaW5nLCBwYXRoOiBzdHJpbmcsIGRlZmF1bHRQYXJhbXM/OiBhbnkpIHtcbiAgICAgICAgdXJsID0gdXJsIHx8IHRoaXMuX3NlcnZlclVybDtcbiAgICAgICAgcmV0dXJuIHRoaXMuJHJlc291cmNlKHVybCArIHBhdGgsXG4gICAgICAgICAgICBkZWZhdWx0UGFyYW1zIHx8IHsgaWQ6ICdAaWQnIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdXBkYXRlOiB7IG1ldGhvZDogJ1BVVCcgfVxuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlUGFnZWRDb2xsZWN0aW9uKHVybDogc3RyaW5nLCBwYXRoOiBzdHJpbmcsIGRlZmF1bHRQYXJhbXM/OiBhbnkpIHtcbiAgICAgICAgdXJsID0gdXJsIHx8IHRoaXMuX3NlcnZlclVybDtcbiAgICAgICAgcmV0dXJuIHRoaXMuJHJlc291cmNlKHVybCArIHBhdGgsXG4gICAgICAgICAgICBkZWZhdWx0UGFyYW1zIHx8IHsgaWQ6ICdAaWQnIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcGFnZTogeyBtZXRob2Q6ICdHRVQnLCBpc0FycmF5OiBmYWxzZSB9LFxuICAgICAgICAgICAgICAgIHVwZGF0ZTogeyBtZXRob2Q6ICdQVVQnIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZVBhcnR5Q29sbGVjdGlvbih1cmw6IHN0cmluZywgcGF0aDogc3RyaW5nLCBwYXJhbURlZmF1bHRzPzogYW55KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZVBhZ2VkQ29sbGVjdGlvbih1cmwsIHBhdGgsIHBhcmFtRGVmYXVsdHMgfHxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZDogJ0BpZCcsXG4gICAgICAgICAgICAgICAgcGFydHlfaWQ6ICdAcGFydHlfaWQnXG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBzZXJ2ZXJVcmwoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlcnZlclVybDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IHNlcnZlclVybCh2YWx1ZTogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuX3NlcnZlclVybCA9IHZhbHVlO1xuICAgICAgICB0aGlzLnJlSW5pdFJlc291cmNlKCk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBsb2NrU2VydmVyVXJsKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fbG9ja1NlcnZlclVybDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IGxvY2tTZXJ2ZXJVcmwodmFsdWU6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5fbG9ja1NlcnZlclVybCA9IHZhbHVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRIZWFkZXJzKGhlYWRlcnM6IGFueSkge1xuICAgICAgICBmb3IgKGxldCBoZWFkZXIgaW4gaGVhZGVycykge1xuICAgICAgICAgICAgaWYgKGhlYWRlcnMuaGFzT3duUHJvcGVydHkoaGVhZGVyKSAmJiAhXy5pc09iamVjdChoZWFkZXJzW2hlYWRlcl0pKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4kaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbltoZWFkZXJdID0gaGVhZGVyc1toZWFkZXJdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGdldFJlc291cmNlKG5hbWU6IHN0cmluZyk6IGFueSB7XG4gICAgICAgIGxldCByZXNvdXJjZSA9IHRoaXMuX3Jlc291cmNlc1tuYW1lXTtcbiAgICAgICAgaWYgKCFyZXNvdXJjZSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUmVzb3VyY2Ugbm90IGZvdW5kJyk7XG5cbiAgICAgICAgcmV0dXJuIHJlc291cmNlO1xuICAgIH1cblxufVxuXG5jbGFzcyBSZXN0UHJvdmlkZXIgaW1wbGVtZW50cyBJUmVzdFByb3ZpZGVyIHtcbiAgICBwcml2YXRlIF9zZXJ2aWNlOiBJUmVzdFNlcnZpY2U7XG5cbiAgICBwcml2YXRlIF9odHRwOiBuZy5JSHR0cFByb3ZpZGVyO1xuICAgIHByaXZhdGUgX3NlcnZlclVybDogc3RyaW5nO1xuICAgIHByaXZhdGUgX2xvY2tTZXJ2ZXJVcmw6IGJvb2xlYW47XG4gICAgcHJpdmF0ZSBfcmVzb3VyY2VDb25maWdzOiBSZXN0UmVzb3VyY2VDb25maWdbXSA9IFtdO1xuXG4gICAgY29uc3RydWN0b3IoJGh0dHBQcm92aWRlcjogbmcuSUh0dHBQcm92aWRlcikge1xuICAgICAgICB0aGlzLl9odHRwID0gJGh0dHBQcm92aWRlcjtcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0IHNlcnZlclVybCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2VydmVyVXJsO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXQgc2VydmVyVXJsKHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5fc2VydmVyVXJsID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcHVibGljIGdldCBsb2NrU2VydmVyVXJsKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fbG9ja1NlcnZlclVybDtcbiAgICB9XG5cbiAgICBwdWJsaWMgc2V0IGxvY2tTZXJ2ZXJVcmwodmFsdWU6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5fbG9ja1NlcnZlclVybCA9IHZhbHVlO1xuICAgIH1cblxuICAgIHB1YmxpYyBzZXRIZWFkZXJzKGhlYWRlcnM6IGFueSkge1xuICAgICAgICBmb3IgKGxldCBoZWFkZXIgaW4gaGVhZGVycykge1xuICAgICAgICAgICAgaWYgKGhlYWRlcnMuaGFzT3duUHJvcGVydHkoaGVhZGVyKSlcbiAgICAgICAgICAgICAgICB0aGlzLl9odHRwLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uW2hlYWRlcl0gPSBoZWFkZXJzW2hlYWRlcl07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwdWJsaWMgcmVnaXN0ZXJSZXNvdXJjZShuYW1lOiBzdHJpbmcsIHBhdGg6IHN0cmluZywgZGVmYXVsdFBhcmFtcz86IGFueSwgYWN0aW9ucz86IGFueSk6IHZvaWQge1xuICAgICAgICB0aGlzLl9yZXNvdXJjZUNvbmZpZ3MucHVzaCh7XG4gICAgICAgICAgICBvcGVyYXRpb246ICdjcmVhdGVSZXNvdXJjZScsXG4gICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICAgIGRlZmF1bHRQYXJhbXM6IGRlZmF1bHRQYXJhbXMgfHwgbnVsbCxcbiAgICAgICAgICAgIGFjdGlvbnM6IGFjdGlvbnMgfHwgbnVsbFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcHVibGljIHJlZ2lzdGVyT3BlcmF0aW9uKG5hbWU6IHN0cmluZywgcGF0aDogc3RyaW5nLCBkZWZhdWx0UGFyYW1zPzogYW55LCBhY3Rpb25zPzogYW55KTogdm9pZCB7XG4gICAgICAgIHRoaXMuX3Jlc291cmNlQ29uZmlncy5wdXNoKHtcbiAgICAgICAgICAgIG9wZXJhdGlvbjogJ2NyZWF0ZU9wZXJhdGlvbicsXG4gICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICAgIGRlZmF1bHRQYXJhbXM6IGRlZmF1bHRQYXJhbXMgfHwgbnVsbCxcbiAgICAgICAgICAgIGFjdGlvbnM6IGFjdGlvbnMgfHwgbnVsbFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVnaXN0ZXJDb2xsZWN0aW9uKG5hbWU6IHN0cmluZywgcGF0aDogc3RyaW5nLCBkZWZhdWx0UGFyYW1zPzogYW55LCBhY3Rpb25zPzogYW55KTogdm9pZCB7XG4gICAgICAgIHRoaXMuX3Jlc291cmNlQ29uZmlncy5wdXNoKHtcbiAgICAgICAgICAgIG9wZXJhdGlvbjogJ2NyZWF0ZUNvbGxlY3Rpb24nLFxuICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgIHBhdGg6IHBhdGgsXG4gICAgICAgICAgICBkZWZhdWx0UGFyYW1zOiBkZWZhdWx0UGFyYW1zIHx8IG51bGwsXG4gICAgICAgICAgICBhY3Rpb25zOiBhY3Rpb25zIHx8IG51bGxcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIHJlZ2lzdGVyUGFnZWRDb2xsZWN0aW9uKG5hbWU6IHN0cmluZywgcGF0aDogc3RyaW5nLCBkZWZhdWx0UGFyYW1zPzogYW55LCBhY3Rpb25zPzogYW55KTogdm9pZCB7XG4gICAgICAgIHRoaXMuX3Jlc291cmNlQ29uZmlncy5wdXNoKHtcbiAgICAgICAgICAgIG9wZXJhdGlvbjogJ2NyZWF0ZVBhZ2VkQ29sbGVjdGlvbicsXG4gICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgcGF0aDogcGF0aCxcbiAgICAgICAgICAgIGRlZmF1bHRQYXJhbXM6IGRlZmF1bHRQYXJhbXMgfHwgbnVsbCxcbiAgICAgICAgICAgIGFjdGlvbnM6IGFjdGlvbnMgfHwgbnVsbFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwdWJsaWMgcmVnaXN0ZXJQYXJ0eUNvbGxlY3Rpb24obmFtZTogc3RyaW5nLCBwYXRoOiBzdHJpbmcsIGRlZmF1bHRQYXJhbXM/OiBhbnksIGFjdGlvbnM/OiBhbnkpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5fcmVzb3VyY2VDb25maWdzLnB1c2goe1xuICAgICAgICAgICAgb3BlcmF0aW9uOiAnY3JlYXRlUGFydHlDb2xsZWN0aW9uJyxcbiAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICBwYXRoOiBwYXRoLFxuICAgICAgICAgICAgZGVmYXVsdFBhcmFtczogZGVmYXVsdFBhcmFtcyB8fCBudWxsLFxuICAgICAgICAgICAgYWN0aW9uczogYWN0aW9ucyB8fCBudWxsXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHB1YmxpYyAkZ2V0KFxuICAgICAgICAkcmVzb3VyY2U6IG5nLnJlc291cmNlLklSZXNvdXJjZVNlcnZpY2UsXG4gICAgICAgICRodHRwOiBuZy5JSHR0cFNlcnZpY2UsXG4gICAgICAgICRzdGF0ZVBhcmFtczogYW5ndWxhci51aS5JU3RhdGVQYXJhbXNTZXJ2aWNlXG4gICAgKSB7XG4gICAgICAgIFwibmdJbmplY3RcIjtcblxuICAgICAgICBpZiAodGhpcy5fc2VydmljZSA9PSBudWxsKVxuICAgICAgICAgICAgdGhpcy5fc2VydmljZSA9IG5ldyBSZXN0U2VydmljZSgkcmVzb3VyY2UsICRodHRwLCAkc3RhdGVQYXJhbXMsIHRoaXMuX3NlcnZlclVybCwgdGhpcy5fbG9ja1NlcnZlclVybCwgdGhpcy5fcmVzb3VyY2VDb25maWdzKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fc2VydmljZTtcbiAgICB9XG59XG5cbmFuZ3VsYXJcbiAgICAubW9kdWxlKCdwaXBSZXN0JylcbiAgICAucHJvdmlkZXIoJ3BpcFJlc3QnLCBSZXN0UHJvdmlkZXIpO1xuXG5cbiIsImFuZ3VsYXJcbiAgICAubW9kdWxlKCdwaXBSZXN0JywgWyAnbmdSZXNvdXJjZSddKTtcblxuXG5pbXBvcnQgJy4vSVJlc3RTZXJ2aWNlJztcbmltcG9ydCAnLi9SZXN0U2VydmljZSc7XG5cbmV4cG9ydCAqIGZyb20gJy4vSVJlc3RTZXJ2aWNlJzsiXX0="}